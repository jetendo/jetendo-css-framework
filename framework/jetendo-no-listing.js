//# sourceMappingURL=jetendo-no-listing.js.map
(function(a,b,c){function j(){for(var a in h){var b=h[a],d=g(a);d!==b.value&&(b.value=d,b.callback(d))}}function g(a){var b=c.cookie;if(0<b.length){var d=b.indexOf(a+"=");if(-1!==d)return d=d+a.length+1,a=b.indexOf(";",d),-1===a&&(a=b.length),unescape(b.substring(d,a))}return""}function l(a){if("object"!==typeof a)throw"zSetCookie requires an obj like {key:'cookie'',value:'value',futureSeconds:60,enableSubdomains:false}.";var g={futureSeconds:0,enableSubdomains:!1},d;for(d in a)g[d]=a[d];a=g.key+
"="+escape(g.value);0!==g.futureSeconds&&(d=new Date,d=new Date(d.getTime()+1E3*g.futureSeconds),a+=";expires="+d.toGMTString());g.enableSubdomains&&(a+=";domain=."+b.location.hostname.replace("www.","").replace("secure.",""));c.cookie=a}var h={},k=0,s=!1;b.zTrackCookieChanges=j;b.zWatchCookie=function(a,b){h[a]={callback:b,value:g(a)};k++;s||(s=setInterval(j,1E3))};b.zDeleteWatchCookie=function(a){delete h[a];k--;0===k&&(clearInterval(s),s=!1)};b.zGetCookie=g;b.zDeleteCookie=function(a){l({key:a,
value:"",futureSeconds:-1,enableSubdomains:!1})};b.zSetCookie=l})(jQuery,window,document,"undefined");(function(a,b,c){function j(b,c){var g;if("IMG"==b.tagName){if(1!=b.complete)return;g=a(b)}else g=a("img",b),0==g.length&&console.log("zForceNegativeMarginLeft and zForceNegativeMarginRight only works with images");g.width("100%");var d=g[0].naturalWidth,p=zGetAbsPosition(b.parentNode),o=Math.round(a(b.parentNode).width());"right"==c?zWindowSize.width<p.x+d&&(p=p.x+d-zWindowSize.width,d-=p+zScrollbarWidth+2):d>p.x+o&&(p=d-(p.x+o),d-=p);o=d-o;g.width(d+"px");a(b).css("margin-"+c,-o+"px")}function g(a,
b){return a-b}function l(b){var c=0;a(b).height("auto");a(b).each(function(){var b=a(this).height();b>c&&(c=b)});0==c&&(c="auto");a(b).height(c)}function h(a){"string"==typeof a&&(a=c.getElementById(a));a=zGetAbsPosition(a);return a.y+a.height<zScrollPosition.top||a.y>zWindowSize.height+zScrollPosition.top||a.x+a.width<zScrollPosition.left||a.x>zWindowSize.width+zScrollPosition.left?!1:!0}function k(){c.getElementById("yelpSectionDiv");a(".zAnimateOnVisible").each(function(){if(h(this)){var c=a(this).attr("data-visible-callback");
if(""!=c&&"undefined"!=typeof b[c])(0,b[c])(this);a(this).hide().css({visibility:"visible"}).fadeIn("fast");c=a(this).attr("data-visible-class");a(this).removeClass("zAnimateOnVisible");""!=c&&!a(this).hasClass(c)&&a(this).addClass(c)}})}zArrResizeFunctions.push({functionName:function(){a(".z-breakpoint").each(function(){if("undefined"!=typeof this.arrBreakCache)var b=this.arrBreakCache;else{b=a(this).attr("data-breakpoints");if(null==b||""==b)return;for(var b=b.split(","),c=0;c<b.length;c++)b[c]=
parseInt(b[c]);this.arrBreakCache=b}for(var g=zGetAbsPosition(this.parentNode),d=1E4,c=0;c<b.length;c++)b[c]>g.width&&(d=b[c]);if(1E4!=d){a(this).addClass("z-breakpoint-"+d);for(c=0;c<b.length;c++)d!=b[c]&&a(this).removeClass("z-breakpoint-"+b[c])}})}});zArrResizeFunctions.push({functionName:function(){a(".zForceNegativeMarginRight").show().bind("load",function(){j(this,"right")});a(".zForceNegativeMarginRight").each(function(){this.complete&&j(this,"right")});a(".zForceNegativeMarginLeft").show().bind("load",
function(){j(this,"left")});a(".zForceNegativeMarginLeft").each(function(){this.complete&&j(this,"left")})}});zArrResizeFunctions.push({functionName:function(){a(".zLazyLoadBackgroundImage").each(function(){if("undefined"==typeof this.arrLazyLoadCache){var b=a(this).attr("data-lazy-json");if(null==b)throw"img tag is missing data-lazy-json attribute";var c=JSON.parse(b),k=[],d=[],p;for(p in c)k[p]=c[p],"default"!=p&&d.push(parseInt(p));d.sort(g);this.arrLazyLoadCache={arrSrc:k,arrBreakpoint:d};this.lazyLoadLastOffset=
-2}c=this.arrLazyLoadCache.arrBreakpoint;k="default";d=-1;for(p=0;p<c.length;p++){var o=c[p];if(zWindowSize.width<o){k=o;d=p;break}}b=this.arrLazyLoadCache.arrSrc[k];"undefined"==typeof this.zLazyLoaded?(a(this).css("background",""),this.setAttribute("data-lazy-original",b["background-image"]),this.zLazyLoaded=!0,a(this).lazyload({threshold:200,load:function(){a(this).css({"background-position":b["background-position"],"background-repeat":b["background-repeat"],"background-attachment":b["background-attachment"],
"background-size":b["background-size"],"background-color":b["background-color"]})}})):this.lazyLoadLastOffset!=d&&(this.lazyLoadLastOffset=d,this.style.background=b["background-image"],a(this).css({"background-position":b["background-position"],"background-repeat":b["background-repeat"],"background-attachment":b["background-attachment"],"background-size":b["background-size"],"background-color":b["background-color"]}))});a("img.zLazyLoadImage").each(function(){if("undefined"==typeof this.arrLazyLoadCache){var b=
a(this).attr("data-lazy-src");if(null==b)throw"img tag is missing data-lazy-src attribute";for(var b=b.split(":"),c=[],k=[],d="",p=0;p<=b.length;p++)""==d?d=b[p]:(c[d]=b[p],"default"!=d&&k.push(parseInt(d)),d="");k.sort(g);this.arrLazyLoadCache={arrSrc:c,arrBreakpoint:k}}b=this.arrLazyLoadCache.arrBreakpoint;c="default";for(k=0;k<b.length;k++)if(d=b[k],zWindowSize.width<d){c=d;break}b=this.arrLazyLoadCache.arrSrc[c];"undefined"==typeof this.zLazyLoaded?(this.setAttribute("data-original",b),this.zLazyLoaded=
!0,a(this).lazyload({threshold:200,effect:"fadeIn"})):""==b?"block"==this.style.display&&(this.style.display="none"):(this.style.display="block",this.src!=b&&(this.src=b))})}});zArrResizeFunctions.push({functionName:function(){a(".z-equal-heights").each(function(){var b=a(this).attr("data-children-class");if(null==b||""==b)b="";var c=a(this).attr("data-single-column-width");if(null==c||""==c)c=479;var g=a(this).attr("data-column-count");if(null==g||""==g)g=0;g=parseInt(g);b=""!=b?a(b,this):a(this).children();
if(a(this).width()<=c)a(b).height("auto");else{var d=[];if(0==g)d[0]={children:b,images:[],imagesLoaded:0},a("img",b).each(function(){d[0].images.push(this);this.complete&&d[0].imagesLoaded++});else for(var p=c=0,o=0;o<b.length;o++)"undefined"==typeof d[p]&&(d[p]={children:[],images:[],imagesLoaded:0}),d[p].children.push(b[o]),a("img",b[o]).each(function(){d[p].images.push(this);this.complete&&d[p].imagesLoaded++}),c++,c>=g&&(c=0,p++);for(o=0;o<d.length;o++){var m=d[o];if(m.images.length){var r=a(m.images);
m.imagesLoaded!=r.length&&r.bind("load",function(){m.imagesLoaded++;m.imagesLoaded>r.length&&l(m.children)})}l(m.children)}}});0<a(".z-equal-height").length&&console.log("The class name should be z-equal-heights, not z-equal-height")}});zArrDeferredFunctions.push(function(){function b(d){d.preventDefault();d=a(".z-mobileMenuDiv").attr("data-open-class");null!=d?a(".z-mobileMenuDiv").toggleClass(d):a(".z-mobileMenuDiv").slideToggle("fast");return!1}function g(){var b=a(".z-mobileMenuDiv").attr("data-open-class");
null!=b?a(".z-mobileMenuDiv").hasClass(b)&&(a(".z-mobileMenuDiv").removeClass(b),a(".z-mobileMenuDiv").hide()):a(".z-mobileMenuDiv").is(":visible")&&a(".z-mobileMenuDiv").hide()}function k(){var b=zWindowSize.width+zScrollbarWidth;992<b?(a(".z-mobileMenuDiv").removeClass("z-transition-all"),a(".z-mobileMenuDiv").hide(),g()):768<=b&&992>=b?(a(".z-mobileMenuDiv").removeClass("z-transition-all"),g(),a(".z-mobileMenuDiv").show()):a(".z-mobileMenuDiv").addClass("z-transition-all")}0!=a(".z-mobileMenuButton").length&&
(a(".z-mobileMenuButton").bind("click",b),a(c).bind("click",function(b){if(!zMouseHitTest(a(".z-mobileMenuDiv")[0],0)){var c=a(".z-mobileMenuDiv").attr("data-open-class");null!=c?a(".z-mobileMenuDiv").hasClass(c)&&(b.preventDefault(),a(".z-mobileMenuDiv").removeClass(c)):a(".z-mobileMenuDiv").is(":visible")&&(b.preventDefault(),a(".z-mobileMenuDiv").hide())}}),zArrResizeFunctions.push({functionName:k}),k())});zArrDeferredFunctions.push(function(){function b(d,g){a("#"+d+" nav").css("visibility","visible");
"undefined"===typeof c[d]&&zArrResizeFunctions.push(function(){b(d,g)});c[d]={ul:a("#"+d+" > nav "),arrLI:a("#"+d+" > nav > div"),arrItem:a("#"+d+" > nav > div > a"),arrItemWidth:[],arrItemBorderAndPadding:[],containerWidth:0,navWidth:0,marginSize:g};for(var o=a("#"+d).attr("data-column-gap"),o=null==o?20:parseInt(o),m=!1,r=c[d],k=0;k<r.arrItem.length;k++)768>zWindowSize.width+zScrollbarWidth?(m=!0,a("#"+d).width("auto"),a(r.arrItem[k]).parent().css({width:"100%","min-width":"auto","float":"left",
display:"block","text-align":"left"}),a(r.arrItem[k]).css({width:"100%","min-width":"auto",display:"block","text-align":"left"})):(a(r.arrItem[k]).parent().css({width:"auto","min-width":"auto","float":"none",display:"inline-block","text-align":"center"}),a(r.arrItem[k]).css({width:"auto","min-width":"1px","float":"left","text-align":"center"}),a(r.arrItem[k]).css({"margin-right":"0px"}));a(r.arrLI).each(function(){a(this).css("margin-right","0px")});if(!(768>zWindowSize.width+zScrollbarWidth)){for(var j=
r.arrItem.length,k=0;k<j;k++){var h=a(r.arrItem[k]);h.width("auto");var l=h.width(),q=parseInt(h.css("border-left-width")),u=parseInt(h.css("border-right-width"));isNaN(q)&&(q=1);isNaN(u)&&(u=1);q=parseInt(h.css("padding-left"))+parseInt(h.css("padding-right"))+parseInt(q)+parseInt(u);"border-box"==h.css("box-sizing")&&(q=0);a(h).css({"padding-left":"0px","padding-right":"0px"});k===j-1?(a(h).css({"margin-right":"0px"}),l=a(h).width(),a(h).css({width:l+"px"}),r.navWidth+=l+q):(a(h).css({"margin-right":r.marginSize+
"px",width:l}),r.navWidth+=l+g+q+o);r.arrItemBorderAndPadding.push(q);r.arrItemWidth.push(l)}if(!m){a("#"+d).width("100%");r.containerWidth=a("#"+d).width()-1;m=Math.floor((r.containerWidth-r.navWidth)/r.arrItem.length/2);h=0;j=r.arrItem.length;for(k=0;k<j;k++)l=r.navWidth>zWindowSize.width+zScrollbarWidth?r.arrItemWidth[k]+o:r.arrItemWidth[k],q=Math.floor(l+2*m),u=Math.max(l,q),q/=r.containerWidth,l/=r.containerWidth,q=Math.round(1E5*q)/1E3-0.001,l=Math.round(1E5*l)/1E3-0.001,j-1==k?(u=q=r.containerWidth-
h,q/=r.containerWidth,l=q=Math.round(1E5*q)/1E3-0.001,a(r.arrItem[k]).parent().css({width:q+"%","min-width":l+"%"})):a(r.arrItem[k]).parent().css({width:q+"%","min-width":l+"%","margin-right":g+"px"}),a(r.arrItem[k]).css({width:"100%","min-width":"100%"}),h+=Math.round(u+g);a("#"+d).append(r.ul)}a("#"+d+" nav").css("visibility","visible")}}var c=[],g=1;a(".z-mobileMenuDiv").each(function(){if(null==this.id||""==this.id)this.id="zMobileMenuDiv"+g,g++;b(this.id,0)})});zArrDeferredFunctions.push(function(){a(".zAnimateOnVisible").each(function(){h(this)||
a(this).hide().css({visibility:"hidden"})});zArrScrollFunctions.push(k);setTimeout(k,100)});b.zIsVisibleOnScreen=h})(jQuery,window,document,"undefined");var zWindowSize=!1,zWindowIsLoaded=!1,zScrollPosition={left:0,top:0},zPositionObjSubtractId=!1,zPositionObjSubtractPos=[0,0],zJetendoLoadedRan=!1,zHumanMovement=!1;
(function(a,b,c){function j(){var a=c.body.scrollTop;0===a&&(a=b.pageYOffset?b.pageYOffset:c.body.parentElement?c.body.parentElement.scrollTop:0);zScrollPosition.top=a;a=c.body.scrollLeft;0===a&&(a=b.pageXOffset?b.pageXOffset:c.body.parentElement?c.body.parentElement.scrollLeft:0);zScrollPosition.left=a}function g(){var a=zHumanMovement=!0;j();"undefined"!==typeof updateCountPosition&&(a=updateCountPosition());for(var b=0;b<zArrScrollFunctions.length;b++){var c=zArrScrollFunctions[b];"object"===typeof c?
"undefined"===typeof c.arguments||0===c.arguments.length?c.functionName():1===c.arguments.length?c.functionName(c.arguments[0]):2===c.arguments.length?c.functionName(c.arguments[0],c.arguments[1]):3===c.arguments.length?c.functionName(c.arguments[0],c.arguments[1],c.arguments[2]):4===c.arguments.length&&c.functionName(c.arguments[0],c.arguments[1],c.arguments[2],c.arguments[3]):c()}return a}function l(){var a=zWindowSize;zGetClientWindowSize();if(!("function"===typeof a&&a.width===zWindowSize.width&&
a.height===zWindowSize.height)){"undefined"!==typeof updateCountPosition&&updateCountPosition();for(a=0;a<zArrResizeFunctions.length;a++){var b=zArrResizeFunctions[a];"object"===typeof b?"undefined"===typeof b.arguments||0===b.arguments.length?b.functionName():1===b.arguments.length?b.functionName(b.arguments[0]):2===b.arguments.length?b.functionName(b.arguments[0],b.arguments[1]):3===b.arguments.length?b.functionName(b.arguments[0],b.arguments[1],b.arguments[2]):4===b.arguments.length&&b.functionName(b.arguments[0],
b.arguments[1],b.arguments[2],b.arguments[3]):b()}}}function h(){zFunctionLoadStarted=!0;for(var a=0;a<zArrLoadFunctions.length;a++){var b=zArrLoadFunctions[a];"object"===typeof b?"undefined"===typeof b.arguments||0===b.arguments.length?b.functionName():1===b.arguments.length?b.functionName(b.arguments[0]):2===b.arguments.length?b.functionName(b.arguments[0],b.arguments[1]):3===b.arguments.length?b.functionName(b.arguments[0],b.arguments[1],b.arguments[2]):4===b.arguments.length&&b.functionName(b.arguments[0],
b.arguments[1],b.arguments[2],b.arguments[3]):b()}zFunctionLoadStarted=!1}function k(){if(!zWindowIsLoaded){zWindowIsLoaded=!0;j();zGetClientWindowSize();if("undefined"!==typeof b.zCloseModal||"undefined"!==typeof b.parent.zCloseModal){var a=c.getElementById("js3811");a&&(a.value="j219")}h();!1!==zPositionObjSubtractId&&(a=c.getElementById(zPositionObjSubtractId),zPositionObjSubtractPos=zFindPosition(a));zWindowIsLoaded=!0;"undefined"!==typeof updateCountPosition&&updateCountPosition()}}var s=!1,
n="function"===typeof b.onscroll?b.onscroll:function(){};a(b).bind("scroll",function(a){n(a);return g(a)});var q="function"===typeof b.onmousewheel?b.onmousewheel:function(){};a(b).bind("mousewheel",function(a){q(a);return g(a)});var d="function"===typeof b.onresize?b.onresize:function(){};a(b).bind("resize",function(a){d(a);return l(a)});a(b).bind("clientresize",function(a){d(a);return l(a)});var p="function"===typeof b.onload?b.onload:function(){};a(b).bind("onload",function(a){p(a);k(a)});zArrDeferredFunctions.push(function(){l()});
b.zJetendoLoaded=function(){if(!zJetendoLoadedRan&&(zJetendoLoadedRan=!0,zWindowIsLoaded||k(),"undefined"!==typeof zArrDeferredFunctions))for(var a=zArrDeferredFunctions,b=0;b<a.length;b++)a[b]()};b.zLoadMapFunctions=function(){if(!s&&(s=!0,"undefined"!==typeof zArrMapFunctions))for(var a=0;a<zArrMapFunctions.length;a++)zArrMapFunctions[a]()};b.zSetScrollPosition=j;b.getWindowSize=function(){var a=0,d=0;if("number"===typeof b.innerWidth)a=b.innerWidth,d=b.innerHeight;else if(c.documentElement&&(c.documentElement.clientWidth||
c.documentElement.clientHeight))a=c.documentElement.clientWidth,d=c.documentElement.clientHeight;else if(c.body&&(c.body.clientWidth||c.body.clientHeight))a=c.body.clientWidth,d=c.body.clientHeight;return{width:a,height:d}};b.zLoadAllLoadFunctions=h})(jQuery,window,document,"undefined");(function(a,b,c){function j(a){if(navigator.plugins&&navigator.plugins.length){if("undefined"===navigator.plugins["Shockwave Flash"])return!1;var b=navigator.plugins["Shockwave Flash"].description.split(" ")[2];return Number(b)>=Number(a)}if(ie&&"function"===typeof ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+a)}catch(c){return!1}return!0}zArrDeferredFunctions.push(function(){var g=-1<navigator.userAgent.toLowerCase().indexOf("webkit"),l=c.defaultCharset&&c.getElementById&&
!b.home;l&&!g&&a("body").append('<style type="text/css" id="hideObject">object{display:none;}</style>');if(c.getElementsByTagName){for(var h=[],k=c.getElementsByTagName("object"),s=0;s<k.length;s++){var n=k[s],q=n.outerHTML;if(!(q&&-1!==q.indexOf('zswf="off"'))){for(var d="",p=!0,o=0;o<n.childNodes.length;o++){var m=n.childNodes[o];if("PARAM"===m.tagName){if("flashVersion"===m.name&&(p=j(m.value),!p)){n.id=""===n.id?"stripFlash"+s:n.id;h.push(n.id);break}d+=m.outerHTML}}p&&(l&&-1===n.className.toLowerCase().indexOf("noswap"))&&
(o=q.split(">")[0]+">"+d+n.innerHTML+"</OBJECT>",n.outerHTML=o)}}h.length&&stripFlash(h);if(l&&!g)var r=c.getElementById("hideObject");r&&(r.disabled=!0)}});b.zswf=function(a){var b=a,h=b.indexOf('zswf="off"');-1!==h?(a=b.substr(0,h),b=b.substr(h+10,b.length-(h+10)),a=a+'zswf="off" style="display:block;"'+b):a=b;c.write(a)}})(jQuery,window,document,"undefined");var zSiteOptionGroupLastFormID="",zAjaxSortURLCache=[],zCacheSliderValues=[],selIndex=0,zAjaxData=[],zAjaxCounter=0,zAjaxLastRequestId=!1,zAjaxLastFormName="",zAjaxOnLoadCallback=function(){},zAjaxOnErrorCallback=function(){},zAjaxLastOnErrorCallback=function(){},zInputSlideOldValue="",zArrSetSliderInputArray=[],zArrSetSliderInputUniqueArray=[],zExpOptionLabelHTML=[],zAjaxLastOnLoadCallback=!1,zMotiontimerlen=10,zMotionslideAniLen=150,zMotiontimerID=[],zMotionstartTime=[],zMotionobj=[],zMotionendHeight=
[],zMotionmoving=[],zMotiondir=[],zMotionLabel=[],zMotionHOC=[],zMotionObjClicked="",zFormOnEnterValues=[],zInputBoxLinkValues=[];
(function(a,b,c){function j(){var d=c.getElementById("sortable");a(b.parent.zImageCountObj).html(a("li",d).length+" images in library")}function g(){for(var b=a("#sortable").sortable("toArray"),d=0;d<b.length;d++)b[d]=b[d].substr(5);d="/z/_com/app/image-library?method=saveSortingPositions&image_library_id="+currentImageLibraryId+"&image_id_list="+b.join(",");a.get(d,"",function(a){debugImageLibrary&&(c.getElementById("forimagedata").value+="\n\nAJAX RESULT:\n"+a+"\n");j()},"html");debugImageLibrary&&
(c.getElementById("forimagedata").value+="ajaxSaveSorting(): array of image_id:\n"+b+"\nLINK:"+d)}function l(b){debugImageLibrary&&(c.getElementById("forimagedata").value+="ajaxSaveImage(): image_id:"+b+"\n");b="/z/_com/app/image-library?method=saveImageId&action=update&image_library_id="+currentImageLibraryId+"&image_id="+b+"&image_caption="+escape(c.getElementById("caption"+b).value);debugImageLibrary&&(c.getElementById("forimagedata").value+="\n\n"+b+"\n\n");a.get(b,"",function(a){debugImageLibrary&&
(c.getElementById("forimagedata").value+="\n\nAJAX SAVE IMAGE RESULT:\n"+a+"\n");j()},"html")}function h(b){var d=c.getElementById("sortable"),o=c.getElementById("image"+b);d.removeChild(o);d="/z/_com/app/image-library?method=remoteDeleteImageId&image_id="+b;debugImageLibrary&&(c.getElementById("forimagedata").value+="\nDelete Image ID:"+b+"\n\n"+d+"\n\n");a.get(d,"",function(a){debugImageLibrary&&(c.getElementById("forimagedata").value+="\n\nAJAX DELETE IMAGE RESULT:\n"+a+"\n");j()},"html");g()}
function k(){var b=0;a("#optionGroupMapForm .fieldLabelDiv").each(function(){var d=a(this).attr("data-id"),o=this.innerHTML.toLowerCase(),o=o.replace(/ /,"_"),m=!1,d=c.getElementById("mapField"+d);if(0==d.selectedIndex){for(var g=0,k=0;k<d.options.length;k++)if("inquiries_custom_json"==d.options[k].value){g=k;break}for(k=0;k<d.options.length;k++){var r=d.options[k].value.replace(/inquiries_/,"");if(r==o){d.selectedIndex=k;m=!0;b++;break}}if(!m)for(k=0;k<d.options.length;k++)if(r=d.options[k].value.replace(/inquiries_/,
""),-1!=r.indexOf(o)){d.selectedIndex=k;m=!0;b++;break}m||(d.selectedIndex=g)}});return b}function s(){alert("There was a problem with the submission. Please try again later.");a(".zOptionGroupSubmitButton",a("#"+zOptionGroupLastFormID)).show();a(".zOptionGroupWaitDiv",a("#"+zOptionGroupLastFormID)).hide()}function n(c){c=eval("("+c+")");a(".zOptionGroupSubmitButton",a("#"+zOptionGroupLastFormID)).show();a(".zOptionGroupWaitDiv",a("#"+zOptionGroupLastFormID)).hide();""!=zOptionGroupLastFormID&&(a("#"+
zOptionGroupLastFormID+" input, #"+zOptionGroupLastFormID+" textarea, #"+zOptionGroupLastFormID+" select").bind("change",function(){""!=p(this.id)&&a(this).closest("tr").removeClass("zFieldError")}).bind("keyup",function(){""!=p(this.id)&&a(this).closest("tr").removeClass("zFieldError")}).bind("paste",function(){""!=p(this.id)&&a(this).closest("tr").removeClass("zFieldError")}),zJumpToId(zOptionGroupLastFormID,-50));if(c.success)c=a("#"+zOptionGroupLastFormID).attr("data-thank-you-url"),""!=c?b.location.href=
c:alert("Your submission was received.");else{for(var d=0;d<c.arrErrorField.length;d++)a("#"+c.arrErrorField[d]).closest("tr").addClass("zFieldError");alert("Please correct the following errors and submit the form again\n"+c.errorMessage)}}function q(a){var b=[],a=a&&a.options,c,d=!1;if(2<=a.length&&(""!=a[0].value||""!=a[1].value))d=!0;for(var o=0,m=a.length;o<m;o++)c=a[o],c.selected&&(d?b.push(c.value):b.push(c.text));return b}function d(b){var c={};a("input, textarea, select",a("#"+b)).each(function(){"undefined"===
typeof c[this.name]?"checkbox"===this.type||"radio"===this.type?this.checked&&(c[this.name]=this.value):c[this.name]="select"===this.type.substr(0,6)?q(this).join(","):this.value:"checkbox"===this.type||"radio"===this.type?this.checked&&(c[this.name]+=","+this.value):c[this.name]="select"===this.type.substr(0,6)?c[this.name]+(","+q(this).join(",")):c[this.name]+(","+this.value)});return c}function p(b){if(a("#"+b).length)if("checkbox"===this.type||"radio"===this.type){if(this.checked)return this.value}else return"select"===
this.type.substr(0,6)?q(this).join(","):this.value;return""}function o(){var a=c.getElementById("zTOB");null!==a&&(a.style.display="none")}function m(a,b){var d=c.getElementById(a+"_container");null!==d&&(d.className=b?"tr_error":"")}function r(a){var d=null;b.XMLHttpRequest?d=new XMLHttpRequest:b.ActiveXObject&&(d=new ActiveXObject("Microsoft.XMLHTTP"));"undefined"===typeof zAjaxData[a.id]&&(zAjaxData[a.id]={},zAjaxData[a.id].requestCount=0,zAjaxData[a.id].requestEndCount=0,zAjaxData[a.id].cacheData=
[]);"undefined"===typeof a.postObj&&(a.postObj={});var o="",m;for(m in a.postObj)o+=m+"="+encodeURIComponent(a.postObj[m])+"&";"undefined"===typeof a.cache&&(a.cache=!1);"undefined"===typeof a.method&&(a.method="get");"undefined"===typeof a.debug&&(a.debug=!1);"undefined"===typeof a.errorCallback&&(a.errorCallback=function(){});"undefined"===typeof a.ignoreOldRequests&&(a.ignoreOldRequests=!1);("undefined"===typeof a.url||"undefined"===typeof a.callback)&&alert("zAjax() Error: obj.url and obj.callback are required");
zAjaxData[a.id].requestCount++;zAjaxData[a.id].cache=a.cache;zAjaxData[a.id].debug=a.debug;zAjaxData[a.id].method=a.method;zAjaxData[a.id].url=a.url;zAjaxData[a.id].ignoreOldRequests=a.ignoreOldRequests;zAjaxData[a.id].callback=a.callback;zAjaxData[a.id].errorCallback=a.errorCallback;zAjaxData[a.id].cache&&(zAjaxData[a.id].cacheData[a.url]&&zAjaxData[a.id].cacheData[a.url].success)&&zAjaxData[a.id].callback(zAjaxData[a.id].cacheData[a.url].responseText);d.onreadystatechange=function(){if(d.readyState===
4||d.readyState==="complete"||zMSIEBrowser!==-1&&zMSIEVersion<=7&&this.readyState==="loaded"){var b=d.getResponseHeader("x_ajax_id");typeof b!=="undefined"&&(new String(b)).indexOf(",")!==-1&&(b=b.split(",")[0]);if(d.status!==200&&d.status!==301&&d.status!==302)if(b===null||b==="")if(zAjaxLastRequestId!==false){b=zAjaxLastRequestId;zAjaxData[b].errorCallback(d)}else alert("Sorry, but that page failed to load right now, please refresh your browser or come back later.");else zAjaxData[b].debug?c.write("AJAX SERVER ERROR - (Click back and refresh to continue):<br />"+
d.responseText):zAjaxData[b].errorCallback(d);else if(b===null||b===""){zIsDeveloper()?alert("zAjax() Error: The following ajax URL MUST output the x_ajax_id as an http header.\n"+zAjaxData[a.id].url):alert("Invalid response.  You may need to login again or refresh the page.");return}if(typeof zAjaxData[b]!=="undefined"){zAjaxData[b].requestEndCount++;if(!zAjaxData[b].ignoreOldRequests||zAjaxData[b].requestCount===zAjaxData[b].requestEndCount)if(d.status===200||d.status===301||d.status===302){if(zAjaxData[b].cache){zAjaxData[b].cacheData[zAjaxData[b].url]=
{};zAjaxData[b].cacheData[zAjaxData[b].url].responseText=d.responseText.trim();zAjaxData[b].cacheData[zAjaxData[b].url].success=true}zAjaxData[b].callback(d.responseText.trim())}}zAjaxLastRequestId=false}};m=1E3*Math.random();var k="&zFPE=1";zAjaxData[a.id].debug&&(k="");zAjaxLastRequestId=a.id;var g=zAjaxData[a.id].url,g=-1===g.indexOf("?")?g+("?"+k+"&ztmp="+m):g+("&"+k+"&ztmp="+m),g=g+("&x_ajax_id="+escape(a.id));"get"===zAjaxData[a.id].method.toLowerCase()?(d.open(zAjaxData[a.id].method,g,!0),
d.send("")):"post"===zAjaxData[a.id].method.toLowerCase()&&(d.open(zAjaxData[a.id].method,g,!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.send(o))}function v(a,d,o,g,k){if(!("undefined"===typeof zFormData[a]||"undefined"===typeof zFormData[a].arrFields)){if((null===d||!d)&&!1===o&&""!==zFormData[a].submitContainer)o=c.getElementById(zFormData[a].submitContainer),null!==o&&(zFormData[a].submitContainerBackup=o.innerHTML,o.innerHTML="Please wait...");for(var r=[],o=!1,
g=[],p={},u=0;u<zFormData[a].arrFields.length;u++){var h=zFormData[a].arrFields[u];if("undefined"!==typeof h){var v="";if("file"===h.type&&zFormData[a].ajax)return alert("File upload doesn't work with AJAX. Must use iframe and server-side progress bar (php for non-breaking uploads)"),!1;if("text"===h.type||"file"===h.type||"hidden"===h.type)var j=c.getElementById(h.id),v=j.value;else if("select"===h.type)if(j=c.getElementById(h.id),"undefined"!==typeof j.multiple&&j.multiple)for(var y=0;y<j.options.length;y++)j.options[y].selected&&
(0!==v.length&&(v+=","),v+=j.options[y].value);else{if(-1===j.selectedIndex&&(j.selectedIndex=0),""!==j.options[j.selectedIndex].value)v=j.options[j.selectedIndex].value}else if("radio"===h.type){j=c.getElementById(h.id);j=c[a][h.id];for(y=0;y<j.length;y++)j[y].checked&&(v=j[y].value)}else if("checkbox"===h.type)j=c.getElementById(h.id),j.checked&&(v=j.value);else if("zExpandingBox"===h.type){arrV=[];for(y=0;y<zExpArrMenuBox.length;y++)if(zExpArrMenuBox[y]===h.id){v=c.getElementById("zExpMenuBoxCount"+
y).value;for(j=0;j<v;j++){var l=c.getElementById("zExpMenuOption"+y+"_"+j);l.checked&&arrV.push(l.value)}}v=arrV.join(",")}v=v.replace(/^\s+|\s+$/g,"");p[h.id]=escape(v);r.push(h.id+"="+escape(v));if(""===v)if(null!==h.allowNull&h.allowNull)continue;else if(null!==h.required&&h.required){g.push(h.friendlyName+" is required.");m(h.id,!0);o=!0;continue}if(null!==h.number&h.number&&(value2=parseFloat(v),v!==value2)){g.push(h.friendlyName+" must be a number.");m(h.id,!0);o=!0;continue}null!==h.email&
h.email&&!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(v)?(g.push(h.friendlyName+" must be a well formatted email address, (ex. johndoe@domain.com)."),m(h.id,!0),o=!0):m(h.id,!1)}}if("undefined"!==typeof k&&k)return p;k=r.join("&");r=c.getElementById("zFormMessage_"+a);o?(r.innerHTML='<table style="width:100%;border-spacing:5px;"><tr><th>Please correct your entry and try again.</th></tr><tr><td>'+g.join("</td></tr><tr><td>")+"</td></tr></table>",r.style.display="block",zFormData[a].error=
!0):(zFormData[a].error=!1,r.style.display="none");if(null!==d&&d)return!1;if(o)return b.location.href="#anchor_"+a,""!==zFormData[a].submitContainer&&(o=c.getElementById(zFormData[a].submitContainer),null!==o&&(o.innerHTML=zFormData[a].submitContainerBackup)),!1;if(zFormData[a].ajax){if(!(zFormData[a].ignoreOldRequests&&zFormData[a].ajaxStartCount!==zFormData[a].ajaxEndCount)){var n=null;b.XMLHttpRequest?n=new XMLHttpRequest:b.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLHTTP"));zAjaxLastFormName=
a;zAjaxLastOnLoadCallback=zFormData[a].onLoadCallback;zAjaxLastOnErrorCallback=zFormData[a].onErrorCallback;n.onreadystatechange=function(){if((n.readyState===4||n.readyState==="complete"||zMSIEBrowser!==-1&&zMSIEVersion<=7&&this.readyState==="loaded")&&typeof zFormData[zAjaxLastFormName]!=="undefined"){zFormData[zAjaxLastFormName].ajaxEndCount++;if(n.status===200){zAjaxLastOnLoadCallback(n.responseText);zFormData[zAjaxLastFormName].ajaxSuccess=true;if(zFormData[zAjaxLastFormName].successMessage!==
false){var a=c.getElementById("zFormMessage_"+zAjaxLastFormName);a.style.display="block";a.innerHTML='<div class="successBox">Form submitted successfully.<br />'+n.responseText+"</div>"}}else{zFormData[zAjaxLastFormName].ajaxStartCount=0;zFormData[zAjaxLastFormName].ajaxEndCount=0;zFormData[zAjaxLastFormName].ajaxSuccess=false;zFormData[zAjaxLastFormName].debug?c.write("AJAX SERVER ERROR - (Click back and refresh to continue):<br />"+n.responseText):zAjaxLastOnErrorCallback(n.status+": The server failed to process your request.\nPlease try again later.")}if(zFormData[zAjaxLastFormName].submitContainerBackup!==
null&&zFormData[zAjaxLastFormName].submitContainer!==""){a=c.getElementById(zFormData[zAjaxLastFormName].submitContainer);if(a!==null)a.innerHTML=zFormData[zAjaxLastFormName].submitContainerBackup}}};zFormData[a].ajaxSuccess=!1;zFormData[a].ajaxStartCount++;d=1E3*Math.random();o=zFormData[a].action;g="&zFPE=1";zFormData[a].debug&&(g="");"get"===zFormData[a].method.toLowerCase()?(o=-1===o.indexOf("?")?o+("?"+k+g+"&ztmp="+d):o+("&"+k+g+"&ztmp="+d),n.open(zFormData[a].method,o,!0),n.send("")):"post"===
zFormData[a].method.toLowerCase()&&(o.indexOf("?"),o+=g+"&ztmp="+d,k=encodeURI(k),n.open(zFormData[a].method,o,!0),n.setRequestHeader("Content-type",zFormData[a].contentType),n.send(k))}return!1}return!0}}function w(a,b,d,o){a=c.getElementById(a);""===b&&(b="min");""===d&&(d="max");b=b+"-"+d;b!==zInputSlideOldValue&&(zInputSlideOldValue=a.value=b,null!==o&&z(o,b),a.onchange())}function C(){for(var a=0;a<zArrSetSliderInputArray.length;a++)zArrSetSliderInputArray[a].onclick(),zArrSetSliderInputArray[a].onblur()}
function z(a,b,d){var o=c.getElementById("zExpOption"+a+"_button");if(null===d||"undefined"==typeof d)d="none";null!==o&&(o.innerHTML=zExpOptionLabelHTML[a]+' <span id="zExpOption'+a+'_value" style="display:'+d+';">'+zStringReplaceAll(b,",",", ")+"</span>")}function x(a){!zMotionmoving[a]&&"none"===c.getElementById(a).style.display&&(zMotionmoving[a]=!0,zMotiondir[a]="down",E(a))}function u(a){!zMotionmoving[a]&&"none"!==c.getElementById(a).style.display&&(zMotionmoving[a]=!0,zMotiondir[a]="up",E(a))}
function E(a){zMotionobj[a]=c.getElementById(a);zMotionendHeight[a]=parseInt(zMotionobj[a].style.height);zMotionstartTime[a]=(new Date).getTime();"down"===zMotiondir[a]&&(zMotionobj[a].style.height="1px");zMotionobj[a].style.overflow="hidden";zMotionobj[a].style.display="block";zMotiontimerID[a]=setInterval('zMotionslidetick("'+a+'");',zMotiontimerlen)}function y(a){clearInterval(zMotiontimerID[a]);"up"===zMotiondir[a]?(zMotionobj[a].style.display="none",zMotionHOC[a].style.display="inline"):zMotionobj[a].style.overflow=
"auto";zMotionobj[a].style.height=zMotionendHeight[a]+"px";delete zMotionHOC[a];delete zMotionLabel[a];delete zMotionmoving[a];delete zMotiontimerID[a];delete zMotionstartTime[a];delete zMotionendHeight[a];delete zMotionobj[a];delete zMotiondir[a]}function K(){return"undefined"!==c.getElementsByTagName("body")[0].innerText?!0:!1}function L(a,b,d,o,m){if(a){var g=c.getElementById(d),k=c.getElementById(d+"_zlabel"),r=c.getElementById(d+"_zmanual"),p=c.getElementById(d+"_zmanualv"),u=p.value,h=r.value;
K();if(!0===zValues[b+6]&&0<zValues[b+1].length&&""!==h){alert("Only one value can be selected for this field");p.value="";r.value="";return}if(!(m&&""!==h)){if("0"===u){alert("Please make a selection before clicking the add button.");return}if(""===h)return}for(d=0;d<zValues[b].length;d++)if(zValues[b+1][d]===u){alert("The option, "+zValues[b][d]+", has already been selected.");return}for(d=0;d<zValues[b+3].length;d++)if(zValues[b+3][d]===u){o="zInputLinkBox"+b+"_link"+(d+1);a=c.getElementById(o);
a.style.display="none";break}if(!m&&u===h){alert("Only valid entries are accepted. Please type an entry that appears in the suggestion box and than select it or press enter.");return}p.value="";r.value="";null===o&&(o="");zValues[b+2].push(o);zValues[b+1].push(u);zValues[b].push(h);g.value=zValues[b+1].join(",");k.value=zValues[b].join(",");if(null!==g.onchange)g.onchange();a=[];for(d=0;d<zValues[b].length;d++)a[zValues[b][d]]=d;zValues[b].sort();o=[];m=[];for(d=0;d<zValues[b].length;d++)o[d]=zValues[b+
1][a[zValues[b][d]]],m[d]=zValues[b+2][a[zValues[b][d]]];zValues[b+1]=o;zValues[b+2]=m}z(zValues[b+5],"<br />"+zValues[b].join("<br />"));o=c.getElementById("zInputOptionBlock"+b);m=[];if(0!==zValues[b].length){m.push('<div class="zInputLinkBoxSelected"><div class="zInputLinkBoxSelectedHead">SELECTED VALUES:<br /><span style="font-weight:normal">Click X to remove a value.</span></div>');for(d=0;d<zValues[b].length;d++){g="zInputLinkBoxRow1";0===d%2&&(g="zInputLinkBoxRow2");if(""!==zValues[b+2][d]&&
(a=c.getElementById(zValues[b+2][d])))a.style.display="none";m.push('<div style="float:left;width:100%;" class="'+g+'"><a href="javascript:zInputRemoveOption('+(m.length-1)+","+b+');" style="float:left;text-decoration:none;display:block;" class="zInputLinkBoxSItem '+g+'"><span title="Click the X to remove this option." class="zTOB-closeBox">X</span>'+zValues[b][d]+"</a></div>")}m.push('</div><br style="clear:both;" />')}o.innerHTML=m.join("");o.style.display=0===m.length?"inline":"block"}function M(a){for(var b=
0,d=0;d<a.rows.length;d++)b<a.rows[d].cells.length&&(b=a.rows[d].cells.length);return b}a.fn.filterByText=function(b,d){return this.each(function(){var c=this,o=[];a(c).find("option").each(function(){o.push({value:a(this).val(),text:a(this).text()})});a(c).data("options",o);a(b).bind("change keyup",function(){var b=a(c).empty().data("options"),o=a.trim(a(this).val()),m=RegExp(o,"gi");a.each(b,function(d){d=b[d];null!==d.text.match(m)&&a(c).append(a("<option>").text(d.text).val(d.value))});"undefined"!=
typeof d&&(!0===d&&1===a(c).children().length)&&(a(c).children().get(0).selected=!0)})})};a(".zOptionGroupAutoMap").bind("click",function(){var a=k();alert(a+" fields were automatically mapped.")});zArrResizeFunctions.push({functionName:C});zArrDeferredFunctions.push(function(){a(".zEditReadOnly").bind("click",function(){var b=a(this).attr("data-fieldid"),d=a(this).attr("data-readonlyid");a("#"+b).removeClass("zHideReadOnlyField");a("#"+d).hide();alert("Warning: Changing read only values may cause things to break, or your changes may be overwritten during a future import process.");
return!1})});var N=!1,O=0,J="";zArrDeferredFunctions.push(function(){a(b).bind("hashchange",function(){-1==b.location.hash.indexOf(J)&&zCloseModal()})});b.zCalculateTableCells=M;b.zTableRecordEdit=function(a){zShowModalStandard(a.href,2E3,2E3,!0,!0);O++;J="#zEditTableRecord"+O+"-"+(new Date).getTime()+"-"+Math.random();b.location.href=J;for(var d=0;;){d++;if("tr"==a.tagName.toLowerCase())break;a=a.parentNode;if(50<d)return alert("infinite loop. invalid table html structure"),!1}N=a};b.zReplaceTableRecordRow=
function(b){a(N).html(b)};b.zDeleteTableRecordRow=function(b,d){for(var c,o,m=0;;){m++;if("tr"==b.tagName.toLowerCase())c=b;else if("table"==b.tagName.toLowerCase()){o=b;break}b=b.parentNode;if(50<m)return alert("infinite loop. invalid table html structure"),!1}var g=M(o);a("td",c).css("border-top","2px solid #900");a("td",c).css("border-bottom","2px solid #900");a("td",c).css("background-color","#FFF0F0");o=confirm("Are you sure you want to delete this record?");a("td",c).css("border-top","0px solid #CCC");
a("td",c).css("border-bottom","1px solid #CCC");a("td",c).css("background-color","inherit");o&&(b={id:"ajaxDeleteTableRecord",method:"get",ignoreOldRequests:!0,callback:function(b){b=eval("("+b+")");b.success?a(c).html('<td class="zDeletedRow" colspan="'+g+'">Row Deleted</td>'):alert("Failed to delete the record. Error: "+b.errorMessage)},errorCallback:function(){alert("Failed to delete the record. Unknown error")},url:d},r(b));return!1};b.zUpdateImageLibraryCount=j;b.ajaxSaveSorting=g;b.ajaxSaveImage=
l;b.toggleImageCaptionUpdate=function(a,b){var d=c.getElementById(a),o=!1;"block"===d.style.display&&"none"===b&&(o=!0);var m=a.substr(18);d.style.display=b;o&&("undefined"!==typeof arrImageLibraryCaptions[m]&&arrImageLibraryCaptions[m]!==c.getElementById("caption"+m).value)&&(l(m),arrImageLibraryCaptions[m]=c.getElementById("caption"+m).value)};b.confirmDeleteImageId=function(a){b.confirm("Are you sure you want to PERMANENTLY DELETE this image?")&&h(a)};b.deleteImageId=h;b.setUploadField=function(){};
b.zOptionGroupErrorCallback=s;b.zOptionGroupCallback=n;b.zOptionGroupPostForm=function(b){zOptionGroupLastFormID=b;a(".zOptionGroupSubmitButton",a("#"+zOptionGroupLastFormID)).hide();a(".zOptionGroupWaitDiv",a("#"+zOptionGroupLastFormID)).show();b={id:"ajaxOptionGroup",method:"post",postObj:d(b),ignoreOldRequests:!1,callback:n,errorCallback:s,url:"/z/misc/display-site-option-group/ajaxInsert"};r(b)};b.zSetupAjaxTableSort=function(b,d,c,o,m){var g=!0,k=[];zAjaxSortURLCache[b]={url:d};if(0==a("#"+b).length)g=
!1;else{0==a("#"+b+" thead").length&&(g=!1,k.push('queueSortCom.ajaxTableId is set to "'+b+'", but this table is missing the <thead> tag around the header rows, which is required for table row sorting to function.'));0==a("#"+b+" tbody").length&&(g=!1,k.push('queueSortCom.ajaxTableId is set to "'+b+'", but this table is missing the <tbody> tag around the body rows, which is required for table row sorting to function.'));var u=[];a("#"+b+" tbody tr").each(function(){this.id==""||a("."+b+"_handle",
this).length&&a("."+b+"_handle",this)[0].getAttribute("data-ztable-sort-primary-key-id")==""?g=false:a("."+b+"_handle",this).length&&u.push(a("."+b+"_handle",this)[0].getAttribute("data-ztable-sort-primary-key-id"))});d=u.join("|");a("#"+b+" tbody").attr("data-original-sort",d);g?a("#"+b+" tbody").sortable({handle:"."+b+"_handle",stop:function(){for(var d=a("#"+b+" tbody").attr("data-original-sort"),k=a("#"+b+" tbody").sortable("toArray"),p=[],h=0;h<k.length;h++){var v=a("#"+k[h]+" ."+b+"_handle").attr("data-ztable-sort-primary-key-id");
p.push(v)}var k=p.join("|"),j={id:"zAjaxChangeSortOrder"};j.url=zAjaxSortURLCache[b].url;j.method="post";j.postObj={};j.postObj[c]=k;j.postObj[o]=d;j.callback=function(c){c=eval("("+c+")");if(c.success){zAjaxSortURLCache[b].cache=a("#"+b).html();u=[];a("#"+b+" tbody tr").each(function(){this.id==""||a("."+b+"_handle",this).length&&a("."+b+"_handle",this)[0].getAttribute("data-ztable-sort-primary-key-id")==""?g=false:u.push(a("."+b+"_handle",this)[0].getAttribute("data-ztable-sort-primary-key-id"))});
d=u.join("|");a("#"+b+" tbody").attr("data-original-sort",d);m(j)}else alert(c.errorMessage)};j.errorCallback=function(){alert("Failed to sort records.")};j.cache=false;j.ignoreOldRequests=false;r(j)}}):k.push("Each <tr> row must have a unique id attribute and a data-ztable-sort-primary-key-id attribute with the value set to the primary key id for the current record.");k.length&&alert(k.join("\n"))}};b.zGetFormDataByFormId=d;b.zGetFormFieldDataById=p;b.zDisableEnter=function(a){a=b.event?b.event.keyCode:
a.which;return 13===a||40===a||38===a?!1:!0};b.zKeyboardEvent=function(a,d,m,g){if(null!==a&&(selIndex||(selIndex=0),a=b.event?a.keyCode:a.which,2<d.value.length)){var k=c.getElementById("zTOB");if(13===a||!0===g){if(""===d.value)return;if("block"===k.style.display){k=a=c.getElementById("lid"+arrNewLink[selIndex]).innerHTML;for(g=0;g<zArrCityLookup.length;g++){var r=zArrCityLookup[g].split("\t");if(r[0]===a){k=r[1];break}}d.value=a;m.value=k;o(formName)}else m.value=d.value;selIndex=-1}else if(40===
a)selIndex++,selIndex=Math.min(selIndex,arrNewLink.length-1);else if(38===a)selIndex--,selIndex=Math.max(0,selIndex);else{"block"!==k.style.display&&(m.value=d.value,selIndex=-1);return}for(g=0;g<arrNewLink.length;g++)if(a=c.getElementById("lid"+arrNewLink[g]),g===selIndex){a.className="zTOB-selected";for(var k=a=a.innerHTML,u=0;u<zArrCityLookup.length;u++)if(r=zArrCityLookup[u].split("\t"),r[0]===a){k=r[1];break}d.value=a;m.value=k}else a.className="zTOB-link"}};b.zInputHideDiv=o;b.zFormOnKeyUp=
function(a,b){c.getElementById(zFormData[a].arrFields[b].id);zFormData[a].error&&v(a,!0,!1)};b.zFormOnChange=function(a,b){c.getElementById(zFormData[a].arrFields[b].id);zFormData[a].error&&v(a,!0,!1);if("undefined"!==typeof zFormData[a].onChangeCallback)zFormData[a].onChangeCallback(a)};b.zFormSetError=m;b.zAjax=r;b.zFormSubmit=v;b.zInputSlideOnChange=w;b.zSetSliderInputArray=function(a){"undefined"===typeof zArrSetSliderInputUniqueArray[a]&&(zArrSetSliderInputUniqueArray[a]=!0,a=c.getElementById(a),
zArrSetSliderInputArray.push(a))};b.zSliderInputResize=C;b.zInputSliderSetValue=function(a,b,d,o,m,g){var k=c.getElementById(a),r=c.getElementById(a+"_label"),o=r.value,o=(new String(o)).split(",").join("").split("$").join("");o.match(/[^\+0-9\.]/)&&("min"!==o&&"max"!==o)&&(o=b+3===d?zValues[b+5]:zValues[b+4],r.value=o,alert("You may type only numbers 0-9."));if(!("min"===o||"max"===o)){for(var a=zValues[b],u=a[0],p=0,h=c.getElementById("zInputSliderBox"+(b-(g-1))),j=zGetAbsPosition(h),h=c.getElementById("zInputDragBox"+
g+"_"+(b-(g-1))),v=r.value,v=parseFloat(v.split(",").join("").split("$").join("")),y=!1,l=0;l<a.length;l++){var n=parseFloat(a[l].split(",").join("").split("$").join(""));if(v<n){0<l&&(y=!0,p=parseFloat(u.split(",").join("").split("$").join("")),p=l+(v-p)/(n-p));break}u=a[l]}y||(p=a.length);r.value=o;o=parseFloat(o);r=j.width-20;a=Math.round(p/a.length*r);"undefined"!=typeof h&&(2===g?h.style.marginRight=r-a+"px":h.style.marginLeft=a+"px");k.value=o;zValues[d]=o;d=b-(g-1);w("zInputHiddenValues"+(b-
(g-1)),zValues[d+2],zValues[d+3],m)}};b.zInputSlideLimit=function(a,b,d){var o=c.getElementById(b.valueId),m=c.getElementById(b.labelId),g=!1;null===zDrag_dragObject&&(g=!0,""===m.value&&(m.value=b.constrainLeft?"max":"min",o.value=""));if(!g){var k=!1;b.zValue+3===b.zValueValue&&(k=!0);zDrag_getPosition(a);var g=c.getElementById("zInputSliderBox"+b.zValue),r=zGetAbsPosition(g);zDrag_getPosition(g);var u=b.constrainObj?parseInt(r.width)-parseInt(a.style.width):parseInt(r.width),p=parseInt(a.style.width);
-1!==navigator.userAgent.indexOf("MSIE 6.0")&&(p/=2,u/=2);var h=k?parseInt(a.style.marginRight):parseInt(a.style.marginLeft),r=g=!1;if(b.constrainObj){var j=c.getElementById(b.constrainObj);j.style.zIndex=1;a.style.zIndex=3;k=k?u-(p+parseInt(j.style.marginLeft)):u-(p+parseInt(j.style.marginRight));zDrag_getPosition(j);b.constrainLeft?h>=k?(h=k,h>=u-p&&(g=!0)):0>=h&&(h=0,0>=h&&(r=!0)):0>=h?(h=0,g=!0):h>=k&&(h=k,h+p>=0+u&&(r=!0))}else 0>=h?(h=0,g=!0):h+p>=0+u&&(h=0+u-p,r=!0);k=0;b.zValue+3===b.zValueValue?
(a.style.marginRight=h+"px",k=Math.max(0,(u-(h+p))/(u-p))):(a.style.marginLeft=h+"px",k=Math.min(1,Math.max(0,h/(u-p))));a=zValues[b.zValue];u=zValues[b.zValue+1];k=Math.min(a.length-1,Math.round(k*(a.length-0.5)));g?(o.value="",m.value="min"):r?(o.value="",m.value="max"):(o.value=u[k],m.value=a[k]);zValues[b.zValueLabel]=m.value;zValues[b.zValueValue]=o.value}null!==d&&d&&w("zInputHiddenValues"+b.zValue,zValues[b.zValue+2],zValues[b.zValue+3],b.zExpOptionValue)};b.zExpOptionSetValue=z;b.zCheckboxOnChange=
function(a,b){for(var d=0,o=[],m=[];;){d++;var g=c.getElementById(a.name+"label"+d);if(null===g)break;var k=c.getElementById(a.name+d);k.checked&&(m.push(g.innerHTML),o.push(k.value))}d=a.name.substr(0,a.name.length-5);k=c.getElementById(d);k.value=o.join(",");-1!==b&&z(b,"<br />"+m.join("<br />"));if(null!=k.onchange)k.onchange()};b.zMotionOnMouseDown=function(a){zMotionObjClicked=a;return!1};b.zMotiontoggleSlide=function(a,b,d){zMotionLabel[a]=c.getElementById(b);zMotionHOC[a]=""!==d?c.getElementById(d):
"";zMotionObjClicked===a&&("none"===c.getElementById(a).style.display?(zMotionHOC[a].style.display="none",x(a)):u(a))};b.zMotionslidedown=x;b.zMotionslideup=u;b.zMotionstartslide=E;b.zMotionslidetick=function(a){var b=(new Date).getTime()-zMotionstartTime[a];b>zMotionslideAniLen?y(a):(b=Math.round(b/zMotionslideAniLen*zMotionendHeight[a]),"up"===zMotiondir[a]&&(b=zMotionendHeight[a]-b),zMotionobj[a].style.height=b+"px")};b.zMotionendSlide=y;b.zCLink=function(a){a.href="javascript:void(0);"};b.zSetInput=
function(a,b){var d=c.getElementById(a);d.value=b;if(null!==d.onchange)d.onchange()};b.zFormOnEnterAdd=function(a,b){zFormOnEnterValues[a]=b};b.zFormOnEnter=function(a,d){null!==zFormOnEnterValues[d.id]&&(null===a?eval(zFormOnEnterValues[d.id]):13===(b.event?a.keyCode:a.which)&&eval(zFormOnEnterValues[d.id]))};b.zInputRemoveOption=function(a,b){for(var d=[],o=[],m=[],g=0;g<zValues[b].length;g++)a!==g?(d.push(zValues[b+1][g]),o.push(zValues[b][g]),m.push(zValues[b+2][g])):""!==zValues[b+2][g]&&!1===
zValues[b+6]&&(c.getElementById(zValues[b+2][g]).style.display="block");zValues[b+2]=m;zValues[b+1]=d;zValues[b]=o;d=c.getElementById(zValues[b+4]);o=c.getElementById(zValues[b+4]+"_zlabel");d.value=zValues[b+1].join(",");o.value=zValues[b].join(",");if("select-one"!==d.type&&null!==d.onchange)d.onchange();L(!1,b);"select-one"===d.type&&(d.selectedIndex=0)};b.zHasInnerText=K;b.zInputSetSelectedOptions=L;b.zOS_mode_check=function(){c.zOS_mode_form.zOS_modeVarDumpName&&0!==c.zOS_mode_form.zOS_modeVarDumpName.value.length&&
(c.zOS_mode_form.zOS_mode.value="varDump",c.zOS_mode_form.zOS_modeValue.value="true");return!0};b.zOS_mode_submit=function(a,b,d,o){var m=c.getElementById("zOS_mode_form"),g=m.getAttribute("action");"viewMeta"===a&&(c.getElementById("zOS_modeVarDumpName").value="request.zos.templateData.tagContent",a="varDump");"undefined"===typeof o&&(o="");c.getElementById("zOS_mode").setAttribute("value",a);c.getElementById("zOS_modeValue").setAttribute("value",b);"viewAsXML"===a&&(g=zURLAppend(g,"zOS_viewAsXML=1"+
o));"validateXHTML"===a&&"undefined"!==d&&(g=zURLAppend(g,"zOS_viewXHTMLError=1"+o));"reset"===a&&(g=zURLAppend(g,"zReset="+d+o));m.setAttribute("action",g);m.submit()};b.zOS_mode_status=function(){b.status="Warning: All variables will be reposted."};b.zOS_mode_status_off=function(){b.status=""};b.zOS_mode_hide=function(){c.getElementById("zOS_mode_table_tag").style.display="none"};b.zOS_mode_show=function(){c.getElementById("zOS_mode_table_tag").style.display="block"}})(jQuery,window,document,"undefined");var zContentTransition={};if("undefined"===typeof zLocalDomains)var zLocalDomains=[];
(function(a,b,c){zContentTransition.transitionOverrideId=!1;zContentTransition.processManually=!1;zContentTransition.processManuallyResult="{}";zContentTransition.processManuallyRan=!1;zContentTransition.manuallyProcessTransition=function(){zContentTransition.processManuallyRan=!0;zContentTransition.processResultStored&&(zContentTransition.processResultStored=!1,zContentTransition.processAjaxPageTransition(zContentTransition.processManuallyResult))};zContentTransition.processAjaxPageTransition=function(j){if(zContentTransition.processManually&&
!1===zContentTransition.processManuallyRan)zContentTransition.processResultStored=!0,zContentTransition.processManuallyResult=j;else{(c.body||c.documentElement).style.overflow="auto";var g={};try{g=eval("("+j+")");if("undefined"===typeof g.forceReload||g.forceReload)b.location.href=zContentTransition.lastURL;a("#zContentTransitionContentDiv").html(g.content)}catch(l){b.location.href=zContentTransition.lastURL}var j=!1!==zContentTransition.transitionOverrideId?a("#"+zContentTransition.transitionOverrideId):
a("#zContentTransitionTitleSpan"),h=a("#zContentTransitionPageNavSpan");""===g.pagenav?(h.html(""),a("#zpagenav").hide()):(a("#zpagenav").show(),h.html(g.pagenav));zContentTransition.load();if(!zContentTransition.disableNextAnimation)if(""!==zContentTransition.lastJumpHash){a("#zContentTransitionContentDiv").css("display","block");if((j=a("#"+zContentTransition.lastJumpHash))&&j.length)j=Math.max(0,Math.max(0,j.offset().top-50)),a(b).scrollTop(j);zContentTransition.lastJumpHash=""}else j.length&&
(j=Math.max(0,Math.max(0,j.offset().top-50)),a(b).scrollTop(j)),a("#zContentTransitionContentDiv").fadeIn(200,function(){});zContentTransition.disableNextAnimation=!1;if(j=c.getElementById("zContentTransitionTitleSpan"))j.innerHTML=g.pagetitle;zContentTransition.popNextStateChange?zContentTransition.popNextStateChange=!1:(History.pushState({rand:Math.random()},g.title,zContentTransition.lastURL,!1),History.Adapter.trigger(b,"statechange"),History.busy(!1));-1!==zMSIEBrowser&&9>=zMSIEVersion||(zContentTransition.skipNextStateChange=
!1);zLoadAllLoadFunctions()}};zContentTransition.processFailedAjaxPageTransition=function(){zContentTransition.processManuallyRan=!0;zContentTransition.skipNextStateChange=!1;zContentTransition.processResultStored=!0;b.location.href=zContentTransition.lastURL};zContentTransition.urlHistory=[];zContentTransition.lastURL="";zContentTransition.skipNextStateChange=!0;zContentTransition.requestAjaxPageTransition=function(a,b){zContentTransition.skipNextStateChange=!0;if("http"===a.substr(0,4))for(var c=
0;c<zLocalDomains.length;c++)if(a.substr(0,zLocalDomains[c].length)===zLocalDomains[c]){a=a.replace(zLocalDomains[c],"");break}c=a.indexOf("#");if(-1!==c){var h=a.indexOf("&_suid=");-1!==h&&(c=a.substr(c+1,h-(c+1)),0<c.length&&(a=c))}zContentTransition.processManuallyRan=!1;zContentTransition.processResultStored=!1;zContentTransition.onPageChange(a);!1===b&&zContentTransition.urlHistory.push(a);zContentTransition.lastURL=a;a=-1!==a.indexOf("?")?a+"&":a+"?";c={id:"zAjaxPageTransition"};c.url=a+"zajaxdownloadcontent=1";
c.callback=zContentTransition.processAjaxPageTransition;c.errorCallback=zContentTransition.processFailedAjaxPageTransition;c.cache=!1;c.ignoreOldRequests=!0;zAjax(c)};zContentTransition.checkHashChange=function(){if(!zContentTransition.skipNextStateChange){var a="";if(1<zContentTransition.urlHistory.length){zContentTransition.urlHistory.pop();var a=zContentTransition.urlHistory[zContentTransition.urlHistory.length-1],b=a.indexOf("#");if(-1!==b){var c=a.indexOf("&_suid=");-1!==c&&(b=a.substr(b+1,c-
(b+1)),0<b.length&&(a=b))}zContentTransition.popNextStateChange=!0;zContentTransition.requestAjaxPageTransition(a,!0)}}zContentTransition.skipNextStateChange=!1};zContentTransition.stateChange=function(){if(!zContentTransition.skipNextStateChange&&1<zContentTransition.urlHistory.length){-1!==zMSIEBrowser&&9>=zMSIEVersion||zContentTransition.urlHistory.pop();var a=zContentTransition.urlHistory[zContentTransition.urlHistory.length-1];zContentTransition.popNextStateChange=!0;zContentTransition.requestAjaxPageTransition(a,
!0)}};zContentTransition.arrIgnoreURLs=["/z/listing/search-form/index"];zContentTransition.arrIgnoreURLContains="mailto: /z/misc/system/ext /z/listing/sl/index /z/_a/member/ /z/listing/search-js/index /z/user/preference/ .xml".split(" ");zContentTransition.disable=function(){zContentTransition.enabled=!1};zContentTransition.gotoURL=function(a){var b=c.createElement("a");b.href=a;zContentTransition.linkOnClick(!1,b)};zContentTransition.doLinkOnClick=function(a){return zContentTransition.enabled?(zContentTransition.linkOnClick(!1,
a),!1):!0};zContentTransition.linkOnClick=function(c,g){var l=!1,l="undefined"!==typeof g?g:this;if("_parent"===l.target)return parent.zContentTransition.gotoURL(l.href),!1;if("_top"===l.target)return top.zContentTransition.gotoURL(l.href),!1;zHideMenuPopups();for(var h=!1,k=l.href,s=0;s<zLocalDomains.length;s++)if(l.href.substr(0,zLocalDomains[s].length)===zLocalDomains[s]){var h=!0,k=l.href.replace(zLocalDomains[s],""),n=k.split("#");1<n.length&&(k=n[0]);for(n=0;n<zContentTransition.arrIgnoreURLs.length;n++)if(k===
zContentTransition.arrIgnoreURLs[n])return b.location.href=l.href,!1;for(n=0;n<zContentTransition.arrIgnoreURLContains.length;n++)if(-1!==k.indexOf(zContentTransition.arrIgnoreURLContains[n]))return b.location.href=l.href,!1}if(!h)return b.location.href=l.href,!1;h=l.href.split("#");if(1<h.length){if(b.location.href.split("#")[0]===h[0]){if(1<h.length){if((l=a("#"+h[1]))&&l.length)l=Math.max(0,Math.max(0,l.offset().top-50)),zIsTouchscreen()?a(b).scrollTop(l):a("html,body").animate({scrollTop:l},200);
zContentTransition.lastJumpHash="";return!1}return!0}zContentTransition.lastJumpHash=h[1];l.href=h[0]}else zContentTransition.lastJumpHash="";zContentTransition.skipNextStateChange=!0;"undefined"!==typeof _gaq?_gaq.push(["_trackPageview",k]):"undefined"!==typeof pageTracker&&pageTracker._trackPageview(k);zContentTransition.requestAjaxPageTransition(l.href,!1);return!1};zContentTransition.disableNextAnimation=!1;zContentTransition.enabled=!0;zContentTransition.firstLoad=!0;zContentTransition.popNextStateChange=
!1;zContentTransition.lastJumpHash="";zContentTransition.load=function(){if(!1!==zContentTransition.enabled){if(zContentTransition.firstLoad){zContentTransition.firstLoad=!1;if(-1!==zMSIEBrowser&&9>=zMSIEVersion){"undefined"!==History&&"undefined"!==History.Adapter&&History.Adapter.bind(b,"hashchange",zContentTransition.checkHashChange);var a=b.location.href.indexOf("#");if(-1!==a){var g=b.location.href.indexOf("&_suid=");if(-1!==g){var g=b.location.href.substr(a+1,g-(a+1)),l=b.location.href.indexOf("/",
8);b.location.href.substr(l,a-l)!==g&&zContentTransition.requestAjaxPageTransition(g,!1)}}}else History.Adapter.bind(b,"statechange",zContentTransition.stateChange),1<History.storedStates.length&&(a=History.getState(),zContentTransition.requestAjaxPageTransition(a.url,!1));a=b.location.href;if("http"===a.substr(0,4))for(g=0;g<zLocalDomains.length;g++)if(a.substr(0,zLocalDomains[g].length)===zLocalDomains[g]){a=a.replace(zLocalDomains[g],"");break}zContentTransition.urlHistory.push(a)}a=c.getElementsByTagName("a");
g=[];for(l=0;l<a.length;l++){var h=!1;if(b.location.href+"#"!==a[l].href){if(""!==a[l].target)if("_parent"===a[l].target)try{"undefined"===typeof parent.zContentTransition&&(h=!0)}catch(k){h=!0}else if("_top"===a[l].target)try{"undefined"===typeof top.zContentTransition&&(h=!0)}catch(s){h=!0}else h=!0;try{"function"!==typeof a[l].onclick&&!h&&(""===a[l].id&&""!==a[l].name&&(a[l].id=a[l].name),-1===a[l].className.indexOf("zNoContentTransition")&&g.push(a[l]))}catch(n){throw"The onclick code was invalid for a link on this page.  Onclick code:"+
a[l].getAttribute("onclick");}}}for(l=0;l<g.length;l++)g[l].onclick=zContentTransition.linkOnClick;zLoadAndCropImagesDefer()}};zContentTransition.bind=function(a,b){"undefined"!==typeof b?(zContentTransition.arrPageChangeObjs.push(a),zContentTransition.arrPageChangeFunctions.push(b)):(zContentTransition.arrPageChangeObjs.push(!1),zContentTransition.arrPageChangeFunctions.push(a))};zContentTransition.arrPageChangeObjs=[];zContentTransition.arrPageChangeFunctions=[];zContentTransition.pageChangeUrl=
"";zContentTransition.onPageChange=function(a){if(a!==zContentTransition.pageChangeUrl){zContentTransition.pageChangeUrl=a;for(var b=0;b<zContentTransition.arrPageChangeObjs.length;b++)if("boolean"===typeof zContentTransition.arrPageChangeObjs[b])zContentTransition.arrPageChangeFunctions[b](a);else zContentTransition.arrPageChangeObjs[b][zContentTransition.arrPageChangeFunctions[b]](a)}};zContentTransition.checkLoad=function(){"undefined"!==typeof zContentTransitionEnabled&&(zContentTransitionEnabled&&
"undefined"===typeof zContentTransitionDisabled)&&(zWindowIsLoaded?zContentTransition.load():zArrLoadFunctions.push({functionName:zContentTransition.load}))};b.zTrackPageview=function(a){"undefined"!=typeof b.GoogleAnalyticsObject?eval(b.GoogleAnalyticsObject)("send","pageview",a):"undefined"!==typeof _gaq?_gaq.push(["_trackPageview",a]):"undefined"!==typeof pageTracker&&pageTracker._trackPageview(a)}})(jQuery,window,document,"undefined");var zLoadAndCropImagesIndex=0,zArrSlideshowIds=[],zArrGalleryViewSlideshowTemplate=[],zGalleryReloadTimeoutId=0;
(function(a,b,c){function j(){var a=zGetElementsByClassName("zLoadAndCropImage");(new Date).getTime();for(var b=0;b<a.length;b++)if("1"!==a[b].getAttribute("data-imageloaded")){a[b].setAttribute("data-imageloaded","1");var d=a[b].getAttribute("data-imageurl"),c=a[b].getAttribute("data-imagestyle"),g=parseInt(a[b].getAttribute("data-imagewidth")),k=parseInt(a[b].getAttribute("data-imageheight")),p=!1;"1"===a[b].getAttribute("data-imagecrop")&&(p=!0);if("undefined"!==typeof a[b].style.maxWidth&&""!==
a[b].style.maxWidth){var h=parseInt(a[b].style.maxWidth);h<g&&(k=g=h)}l(a[b],d,!1,g,k,p,c)}}function g(){setTimeout(j,1)}function l(a,d,g,k,p,h,n){if(-1!==zMSIEBrowser&&9>=zMSIEVersion)a.innerHTML=1E4===p?'<img src="'+d+'" />':'<img src="'+d+'" width="'+k+'" height="'+p+'" />';else{var j=b.location.href.indexOf("/",8),u="a";-1!=j&&(u=b.location.href.substr(0,j));var j=d.indexOf("/",8),l="b";-1!=l&&(l=d.substr(0,j));"http"==d.substr(0,4)&&(u!=l&&"/zimageproxy/"!=d.substr(0,13))&&(d="/zimageproxy/"+
d.replace("http://","").replace("https://",""));g&&console.log("Loading: "+d);var y=c.createElement("canvas");zLoadAndCropImagesIndex++;y.id="zCropImageID"+zLoadAndCropImagesIndex+"_canvas";y.width=k;y.height=p;y.style.cssText=n;var q=y.getContext("2d"),s=new Image;s.startTime=(new Date).getTime();s.onerror=function(){g&&console.log("image load fail: "+this.src);this.src="/z/a/listing/images/image-not-available.gif"};s.onload=function(){var b=(new Date).getTime(),d=b-this.startTime;g&&console.log(d/
1E3+" seconds to load image");d=(new Date).getTime();if(10>=this.width||2E3<=this.width||10>=this.height||2E3<=this.height)g&&console.log("Failed to draw canvas because computed width x height was invalid: "+this.width+"x"+this.height);else if(-1!==this.src.indexOf("/z/a/listing/images/image-not-available.gif"))y.width=this.width,y.height=this.height,q.drawImage(this,0,0),a.appendChild(y);else{g&&console.log("image loaded:"+this.src);var c=new Date;y.width=this.width;y.height=this.height;q.drawImage(this,
0,0);var m=q.getImageData(0,0,this.width,this.height),b=(new Date).getTime();g&&console.log((b-d)/1E3+" seconds to getimagedata");var d=(new Date).getTime(),u=Math.round(this.width/5),n=Math.round(this.height/5),j=Math.round(this.width/2),l=Math.round(this.height/2),E=0,z=0,x=0,B=0,G=0,D=0;g&&console.log("top side");for(var A=0;A<this.height;A++){var t=4*j+4*A*this.width,b=m.data[t]*m.data[t+1]*m.data[t+2],t=Math.max(1,j-u),t=4*t+4*A*this.width,G=m.data[t]*m.data[t+1]*m.data[t+2],t=Math.min(this.width,
j+u),t=4*t+4*A*this.width,t=m.data[t]*m.data[t+1]*m.data[t+2];if(164E5>(b+G+t)/3){x=A+6;B=A;for(A=Math.max(0,A-9);A<=B;A++)if(t=4*j+4*A*this.width,b=m.data[t]*m.data[t+1]*m.data[t+2],g&&console.log(A+" | refining y: "+b+" | red: "+m.data[t]+" | green: "+m.data[t+1]+" | blue: "+m.data[t+2]),164E5>b){g&&console.log("final y:"+A);x=A+6;break}break}}g&&console.log("bottom side");for(A=0;A<this.height;A++)if(B=4*(this.height-1)*this.width-4*A*this.width,t=4*j+B,b=m.data[t]*m.data[t+1]*m.data[t+2],t=Math.max(1,
j-u),t=4*t+B,G=m.data[t]*m.data[t+1]*m.data[t+2],t=Math.min(this.width,j+u),t=4*t+B,t=m.data[t]*m.data[t+1]*m.data[t+2],164E5>(b+G+t)/3){D=A+6;B=A;for(A=Math.max(0,A-9);A<=B;A++)if(t=4*j+4*A*this.width,b=m.data[t]*m.data[t+1]*m.data[t+2],g&&console.log(A+" | refining y: "+b+" | red: "+m.data[t]+" | green: "+m.data[t+1]+" | blue: "+m.data[t+2]),164E5>b){g&&console.log("final y:"+A);D=A+6;break}break}g&&console.log("left side");for(u=0;u<this.width;u++)if(t=4*u+4*l*this.width,b=m.data[t]*m.data[t+1]*
m.data[t+2],B=Math.max(1,l-n),t=4*u+4*B*this.width,G=m.data[t]*m.data[t+1]*m.data[t+2],B=Math.min(this.height,l+n),t=4*u+4*B*this.width,t=m.data[t]*m.data[t+1]*m.data[t+2],164E5>(b+G+t)/3){E=u+6;G=u;for(u=Math.max(0,u-9);u<=G;u++)if(t=4*u+4*l*this.width,b=m.data[t]*m.data[t+1]*m.data[t+2],g&&console.log(u+" | refining x: "+b+" | red: "+m.data[t]+" | green: "+m.data[t+1]+" | blue: "+m.data[t+2]),164E5>b){g&&console.log("final x:"+u);E=u+6;break}break}g&&console.log("right side");for(u=0;u<this.width;u++)if(A=
4*(this.width-1-u),t=4*(this.width-1-u)+4*l*this.width,t=4*u+t,b=m.data[t]*m.data[t+1]*m.data[t+2],B=Math.max(1,l-n),t=A+4*B*this.width,G=m.data[t]*m.data[t+1]*m.data[t+2],B=Math.min(this.height,l+n),t=A+4*B*this.width,t=m.data[t]*m.data[t+1]*m.data[t+2],164E5>(b+G+t)/3){z=u+6;G=u;for(u=Math.max(0,u-9);u<=G;u++)if(t=4*j+B,b=m.data[t]*m.data[t+1]*m.data[t+2],g&&console.log(u+" | refining y: "+b+" | red: "+m.data[t]+" | green: "+m.data[t+1]+" | blue: "+m.data[t+2]),164E5>b){g&&console.log("final x:"+
u);z=u+6;break}break}g&&console.log("left:"+E+" | top:"+x+" | right:"+z+" | bottom:"+D);j=this.width;l=this.height;g&&console.log("original size:"+this.width+"x"+this.height);m=this.width-(E+z);n=this.height-(x+D);if(10>n||10>m){E=50<Math.abs(E-z)?Math.min(E,z):Math.max(E,z);x=50<Math.abs(x-D)?Math.min(x,D):Math.max(x,D);m=j-2*E;n=l-2*x;if(10>n||10>m)m=j,n=l;h=!1}if(m<this.width/2||n<this.height/2)m=this.width,n=this.height;g&&console.log("size without whitespace:"+m+"x"+n);B=D=b=z=0;1E4===k&&1E4===
p?(j=m,l=n,k=m,p=n):h?(u=k/m,j=k,l=n*u,l<p&&(u=p/n,j=m*u,l=p),j>k&&(z=(j-k)/2,b=(j-k)/2),l>p&&(D=(l-p)/2,B=(l-p)/2),E+=z/2/u,x+=D/2/u,g&&console.log("crop | left:"+z+" | top:"+D+" | right:"+b+" | bottom:"+B)):(u=k/m,j=k,l=Math.ceil(n*u),l>p&&(u=p/n,j=Math.ceil(m*u),l=p));this.width<j&&(g&&console.log("width exceeded original"),j=k=this.width,p=l=this.height,D=z=x=E=0);this.height<l&&(g&&console.log("height exceeded original"),l=p=this.height,j=this.width,D=z=x=E=0);g&&console.log("final size:"+j+
"x"+l);g&&console.log("sizes:"+k+"x"+p+":"+this.width+"x"+this.height);b=(new Date).getTime();g&&console.log((b-d)/1E3+" seconds to detect crop");(new Date).getTime();g&&console.log(Math.ceil(E)+" | "+Math.ceil(x)+" | "+Math.floor(m-z)+" | "+Math.floor(n-D)+" | "+-Math.ceil(z/2)+" | "+-Math.ceil(D/2)+" | "+Math.ceil(j)+" | "+Math.ceil(l));10>=k||1E3<=k||10>=p||1E3<=p?g&&console.log("Failed to draw canvas because computed width x height was invalid: "+k+"x"+p):(y.width=k,y.height=p,g&&console.log(m+
":"+n+":"+y.height+":"+Math.ceil(l)+":"+Math.ceil(D)),q.drawImage(s,Math.ceil(E),Math.ceil(x),Math.floor(m-2*E),Math.floor(n-2*x),-Math.ceil(z/2),-Math.ceil(D/2),Math.ceil(j),Math.ceil(l)),a.appendChild(y),b=(new Date).getTime(),g&&console.log((b-c)/1E3+" seconds to crop image"))}};s.src=d}}function h(b,d){var g=parseInt(d.parentNode.id.substr(23,d.parentNode.id.length-23)),g=s(g);!1!==zArrSlideshowIds[g].moveSliderId&&(!1===zArrSlideshowIds[g].ignoreNextRotate&&0===zArrSlideshowIds[g].rotateIndex%
zArrSlideshowIds[g].movedTileCount&&(zArrSlideshowIds[g].ignoreNextRotate=!0,a(".zlistingslidernext"+zArrSlideshowIds[g].id).trigger("click"),3===zArrSlideshowIds[g].rotateGroupIndex+1?zArrSlideshowIds[g].rotateGroupIndex=0:zArrSlideshowIds[g].rotateGroupIndex++),zArrSlideshowIds[g].ignoreNextRotate=!1,zArrSlideshowIds[g].rotateIndex+1===3*zArrSlideshowIds[g].movedTileCount?zArrSlideshowIds[g].rotateIndex=0:zArrSlideshowIds[g].rotateIndex++);var g=c.getElementById(d.id+"_img"),k=c.getElementById(b.id+
"_img");g&&g.src!==d.title&&(g.src=d.title);k&&k.src!==d.title&&(k.src=b.title)}function k(b){for(var d=0,c=0;c<zArrSlideshowIds.length;c++)if(zArrSlideshowIds[c].id===b){zArrSlideshowIds[c].rotateIndex=0;zArrSlideshowIds[c].rotateGroupIndex=0;zArrSlideshowIds[c].ignoreNextRotate=!0;d=zArrSlideshowIds[c];break}n(d);(2===d.layout||0===d.layout)&&a("#zUniqueSlideshowLargeId"+d.id).cycle({before:h,fx:"fade",startingSlide:0,timeout:d.slideDelay});if(1===d.layout||0===d.layout)b=d.slideDelay,c="slide",
"y"===d.slideDirection&&(c="verticalslide"),0===d.layout&&(b=!1),a("#zUniqueSlideshowId"+d.id).slides({newClassNames:!0,newId:d.id,play:b,pause:b,effect:c,next:"zlistingslidernext"+d.id,prev:"zlistingsliderprev"+d.id,hoverPause:!1});j()}function s(a){for(var b=0;b<zArrSlideshowIds.length;b++)if(zArrSlideshowIds[b].id===a)return b;return!1}function n(b){a(".zlistingsliderprev"+b.id).bind("click",function(){var b=parseInt(this.className.substr(18,this.className.length-18)),b=s(b);0===zArrSlideshowIds[b].rotateGroupIndex?
zArrSlideshowIds[b].rotateGroupIndex=2:zArrSlideshowIds[b].rotateGroupIndex--;0===zArrSlideshowIds[b].layout&&zArrSlideshowIds[b].rotateIndex!==zArrSlideshowIds[b].rotateGroupIndex*zArrSlideshowIds[b].movedTileCount&&(a("#zUniqueSlideshowLargeId"+zArrSlideshowIds[b].id).cycle("destroy"),zArrSlideshowIds[b].rotateIndex=zArrSlideshowIds[b].rotateGroupIndex*zArrSlideshowIds[b].movedTileCount,zArrSlideshowIds[b].ignoreNextRotate=!0,a("#zUniqueSlideshowLargeId"+zArrSlideshowIds[b].id).cycle({before:h,
fx:"fade",startingSlide:zArrSlideshowIds[b].rotateIndex,timeout:zArrSlideshowIds[b].slideDelay}))});a(".zlistingslidernext"+b.id).bind("click",function(){var b=parseInt(this.className.substr(18,this.className.length-18)),b=s(b);zArrSlideshowIds[b].ignoreNextRotate||(2===zArrSlideshowIds[b].rotateGroupIndex?zArrSlideshowIds[b].rotateGroupIndex=0:zArrSlideshowIds[b].rotateGroupIndex++,0===zArrSlideshowIds[b].layout&&zArrSlideshowIds[b].rotateIndex!==zArrSlideshowIds[b].rotateGroupIndex*zArrSlideshowIds[b].movedTileCount&&
(a("#zUniqueSlideshowLargeId"+zArrSlideshowIds[b].id).cycle("destroy"),zArrSlideshowIds[b].rotateIndex=zArrSlideshowIds[b].rotateGroupIndex*zArrSlideshowIds[b].movedTileCount,zArrSlideshowIds[b].ignoreNextRotate=!0,a("#zUniqueSlideshowLargeId"+zArrSlideshowIds[b].id).cycle({before:h,fx:"fade",startingSlide:zArrSlideshowIds[b].rotateIndex,timeout:zArrSlideshowIds[b].slideDelay})))})}function q(){for(var b=zGetElementsByClassName("zGalleryViewSlideshow"),d=0;d<b.length;d++)if(a("li",b[d]).length){a("#"+
b[d].id)[0].parentNode.setAttribute("data-galleryview-id",b[d].id);var g=c.getElementById(b[d].id+"_data").value,g=eval("("+g+")");zArrGalleryViewSlideshowTemplate[b[d].id]={html:a("#"+b[d].id).prop("outerHTML"),originalWidth:g.panel_width,originalThumbWidth:g.frame_width}}}function d(){clearTimeout(zGalleryReloadTimeoutId);zGalleryReloadTimeoutId=setTimeout(p,200)}function p(){for(var d=zGetElementsByClassName("zGalleryViewSlideshowContainer"),g=0;g<d.length;g++){var k=d[g].getAttribute("data-galleryview-id");
if("undefined"!=typeof zArrGalleryViewSlideshowTemplate[k]){var p=zArrGalleryViewSlideshowTemplate[k];d[g].innerHTML=p.html;var h=c.getElementById(k+"_data").value,h=eval("("+h+")"),j=0.9*a(b).width(),n=a(d[g]).parent().width(),n=!isNaN(n)&&0!=n&&n<j?Math.min(n,p.originalWidth):Math.min(j,p.originalWidth),p=Math.min(Math.abs(j/4),p.originalThumbWidth),j=n/h.panel_width,l=p/h.frame_width;h.panel_width=n;h.panel_height=Math.abs(h.panel_height*j);h.frame_width=p;h.frame_height=Math.abs(h.frame_height*
l);a("#"+k).show().galleryView(h)}}}zArrLoadFunctions.push({functionName:g});zArrLoadFunctions.push({functionName:q});zArrResizeFunctions.push({functionName:d});b.zLoadAndCropImages=j;b.zLoadAndCropImagesDefer=g;b.zLoadAndCropImage=l;b.zImageLazyLoadUpdate=h;b.zLoadHomeSlides=k;b.zGetSlideShowId=s;b.zUpdateListingSlides=function(d,g){for(var p=0,h=0;h<zArrSlideshowIds.length;h++)if(zArrSlideshowIds[h].id===d){p=zArrSlideshowIds[h];break}a.ajax({url:g,context:c.body,success:function(g){if(0===zArrSlideshowIds[h].layout){g=
g.split("~~~");a("#zUniqueSlideshowLargeId"+zArrSlideshowIds[h].id).html(g[0]);var m="";"x"===zArrSlideshowIds[h].slideDirection&&(m+='<div id="zslideshowhomeslidenav'+zArrSlideshowIds[h].id+'">'+c.getElementById("zslideshowhomeslidenav"+zArrSlideshowIds[h].id).innerHTML+"</div>");m+='<div class="zslideshow'+zArrSlideshowIds[h].id+'-38-2">\t\t<a href="#" class="zlistingsliderprev'+zArrSlideshowIds[h].id+'"><span class="zlistingsliderprevimg'+zArrSlideshowIds[h].id+'">&nbsp;</span></a><div id="zslideshowslides'+
zArrSlideshowIds[h].id+'"><div id="zlistingcontainer'+zArrSlideshowIds[h].id+'" class="zslideshowslides_container'+zArrSlideshowIds[h].id+'"><div class="zslideshowslide'+zArrSlideshowIds[h].id+'">'+g[1]+'</div></div></div>\t\t<a href="#" class="zlistingslidernext'+zArrSlideshowIds[h].id+'"><span class="zlistingslidernextimg'+zArrSlideshowIds[h].id+'">&nbsp;</span></a></div>';a("#zUniqueSlideshowId"+zArrSlideshowIds[h].id).html(m)}else 2===p.layout?a("#zUniqueSlideshowLargeId"+zArrSlideshowIds[h].id).html(g):
a("#zUniqueSlideshowId"+zArrSlideshowIds[h].id).html('<div id="zslideshowhomeslidenav'+zArrSlideshowIds[h].id+'">'+c.getElementById("zslideshowhomeslidenav"+zArrSlideshowIds[h].id).innerHTML+'</div><div class="zslideshow'+zArrSlideshowIds[h].id+'-38-2">\t\t<a href="#" class="zlistingsliderprev'+zArrSlideshowIds[h].id+'"><span class="zlistingsliderprevimg'+zArrSlideshowIds[h].id+'">&nbsp;</span></a><div id="zslideshowslides'+zArrSlideshowIds[h].id+'"><div id="zlistingcontainer'+zArrSlideshowIds[h].id+
'" class="zslideshowslides_container'+zArrSlideshowIds[h].id+'"><div class="zslideshowslide'+zArrSlideshowIds[h].id+'">'+g+'</div></div></div>\t\t<a href="#" class="zlistingslidernext'+zArrSlideshowIds[h].id+'"><span class="zlistingslidernextimg'+zArrSlideshowIds[h].id+'">&nbsp;</span></a></div>');-1!==b.location.href.indexOf("/z/misc/slideshow/embed")&&a("a").attr("target","_parent");k(d)}})};b.zSlideshowSetupSliderButtons=n;b.zSlideshowInit=function(){for(var d=0;d<zArrSlideshowIds.length;d++){a(".zslideshowslides_container"+
zArrSlideshowIds[d].id).css("display","block");var g=zArrSlideshowIds[d];n(g);zArrSlideshowIds[d].ignoreNextRotate=!0;zArrSlideshowIds[d].moveSliderId=0===g.layout?"#zUniqueSlideshowId"+g.id:!1;if(2===g.layout){var k=zGetChildElementCount("zUniqueSlideshowLargeId"+g.id);if(0===k)c.getElementById("zUniqueSlideshowContainerId"+g.id).style.display="none";else if(1===k){var k=c.getElementById("zUniqueSlideshowLargeId"+g.id),p=0;"#text"===k.childNodes[0].nodeName&&(p=1);var j=c.getElementById(k.childNodes[p].id+
"_img");j&&j.src!==k.childNodes[p].title&&(j.src=k.childNodes[p].title)}}if(2===g.layout||0===g.layout)0===g.slideDelay&&(g.slideDelay=4E3,zArrSlideshowIds[d].slideDelay=4E3),a("#zUniqueSlideshowLargeId"+g.id).cycle({before:h,fx:"fade",timeout:g.slideDelay});if(1===g.layout||0===g.layout)k=g.slideDelay,p="slide","y"===g.slideDirection&&(p="verticalslide"),0===g.layout&&(k=!1),a("#zUniqueSlideshowId"+g.id).slides({newClassNames:!0,newId:g.id,play:k,pause:k,effect:p,next:"zlistingslidernext"+g.id,prev:"zlistingsliderprev"+
g.id,hoverPause:!1});-1!==b.location.href.indexOf("/z/misc/slideshow/embed")&&a("a",c.body).attr("target","_parent")}};b.zSlideshowClickLink=function(a){-1!==b.location.href.indexOf("/z/misc/slideshow/embed")?top.location.href=a:b.location.href=a};b.loadDetailGallery=q;b.reloadDetailGalleryTimeout=d;b.reloadDetailGallery=p})(jQuery,window,document,"undefined");var zLoggedIn=!1;
(function(a,b,c){function j(){var c=zGetCookie("ZLOGGEDIN"),h=zGetCookie("ZSESSIONEXPIREDATE");if("1"===c&&""!==h){c=new Date(h.toLocaleString());h=new Date;if(c<h)return g&&(g=!1,zCloseModal()),zDeleteCookie("ZSESSIONEXPIREDATE"),!1;13E4>=c-h-30?(g||(g=!0,zShowModal('<h2>Idle Session Warning</h2><p>You will be logged out in <span id="zIdleWarningDiv1"></span> seconds.</p><p><strong><a href="##" id="zIdleWarningButton" style="border-radius:5px; padding:5px; padding-left:10px; padding-right:10px; text-decoration:none; background-color:#666; color:#FFF;">Continue session</a> <a href="##" id="zIdleLogoutButton" style="border-radius:5px; padding:5px; padding-left:10px; padding-right:10px; text-decoration:none; background-color:#666; color:#FFF;">Log Out</a></strong></p>',{width:370,
height:180,disableClose:!0}),a("#zIdleLogoutButton").bind("click",function(a){a.preventDefault();b.location.replace("/z/user/home/index?zlogout=1")}),a("#zIdleWarningButton").bind("click",function(a){a.preventDefault();zAjax({id:"zContinueSession",method:"get",callback:function(){console.log("Session extended")},errorCallback:function(){alert("Unknown error occurred")},url:"/z/user/home/extendSession"});g=!1;zCloseModal()})),a("#zIdleWarningDiv1").html(Math.round((c-h)/1E3))):g&&(g=!1,zCloseModal());
return!0}g&&(g=!1,zCloseModal());return g=!1}var g=!1,l=!1;zArrDeferredFunctions.push(function(){!zIsTestServer()&&!zIsDeveloper()&&setInterval(function(){zLoggedIn=j();if(("undefined"!=typeof zUserLoggedIn||l)&&!zLoggedIn)c.body.innerHTML="Your session has expired.","1"==zGetCookie("ZISADMIN")?b.location.replace("/z/expired-admin.htm"):b.location.replace("/z/expired.htm");zLoggedIn&&(l=!0)},1E3)});var h={autoLoginValue:-1,autoLoginCallback:0,devLogin:!1,devLoginURL:"",loginErrorCallback:function(){console.log("Login service temporarily unavailable. Try again later.");
h.enableLoginButtons()},enterPressed:!1,lastKeyPressed:0,loginCallback:function(a){a=eval("("+a+")");"undefined"!==typeof a.developer&&zSetCookie({key:"ZDEVELOPER",value:a.developer,futureSeconds:31536E3,enableSubdomains:!1});if(a.success){if(h.zShowLoginError("Logging in..."),a=b.parent.document.getElementById("zRepostForm"))setTimeout("window.parent.document.zRepostForm.submit();",5E3),a.submit()}else h.zShowLoginError("<strong>"+a.errorMessage+"</strong>"),h.enableLoginButtons();h.enableLoginButtons()},
disableLoginButtons:function(){c.getElementById("submitForm").disabled=!0;c.getElementById("submitForm2").disabled=!0},enableLoginButtons:function(){c.getElementById("submitForm").disabled=!1;c.getElementById("submitForm2").disabled=!1},zAjaxResetPasswordCallback:function(a){a=eval("("+a+")");"object"===typeof a?a.success?h.zShowLoginError("Reset password email sent. Click the link in the email to complete the process."):h.zShowLoginError(a.errorMessage):h.zShowLoginError("The username provided is not a valid user.");
h.enableLoginButtons()},zAjaxResetPassword:function(){var a={id:"zAjaxUserResetPassword",url:"/z/user/preference/update"};if(""===c.getElementById("z_tmpusername2").value.length)h.zShowLoginError('Email and the new password are required before clicking "Reset Password".');else if(""===c.getElementById("z_tmppassword2").value.length)h.zShowLoginError('You must enter a new password before clicking "Reset Password"');else return a.postObj={k:"",e:c.getElementById("z_tmpusername2").value,user_password:c.getElementById("z_tmppassword2").value,
submitPref:"Reset Password"},a.method="post",a.cache=!1,a.errorCallback=h.loginErrorCallback,a.callback=h.zAjaxResetPasswordCallback,a.ignoreOldRequests=!0,zAjax(a),!1},zShowLoginError:function(a){var b=c.getElementById("statusDiv");b&&(b.style.display="block",b.innerHTML='<span style="color:#900;">'+a+"</span>",c.getElementById("submitForm2").style.display="block",c.getElementById("submitForm").style.display="block")},setAutoLogin:function(a){!0===a?(h.autoLoginValue="1",zSetCookie({key:"zautologin",
value:"1",futureSeconds:60,enableSubdomains:!1})):(h.autoLoginValue="0",zSetCookie({key:"zautologin",value:"0",futureSeconds:60,enableSubdomains:!1}))},checkAutoLogin:function(){c.getElementById("zRememberLogin").checked?h.setAutoLogin(!0):h.setAutoLogin(!1)},startKeyPressCheck:!1,autoLoginConfirm:function(){h.autoLoginCallback=h.zAjaxSubmitLogin;c.getElementById("zRememberLogin").checked?h.setAutoLogin(!0):h.setAutoLogin(!1);h.zAjaxSubmitLogin();return!1},zAjaxSubmitLogin:function(){var a={id:"zAjaxUserLogin",
url:"/z/user/login/process"};h.zShowLoginError("Processing login credentials...");if(""===c.getElementById("z_tmpusername2").value.length||""===c.getElementById("z_tmppassword2").value.length)h.zShowLoginError("Email and password are required.");else return a.postObj={z_tmpusername2:c.getElementById("z_tmpusername2").value,z_tmppassword2:c.getElementById("z_tmppassword2").value,zIsMemberArea:c.getElementById("zIsMemberArea").value,zautologin:h.autoLoginValue},a.method="post",a.cache=!1,a.errorCallback=
h.loginErrorCallback,a.callback=h.loginCallback,a.ignoreOldRequests=!0,zAjax(a),!1},openidAutoConfirm:function(){h.checkAutoLogin();h.zOpenidLogin2()},openidAutoConfirm2:function(a){h.devLoginURL=a;h.checkAutoLogin();h.zOpenidLogin2()},zOpenidLogin2:function(){b.location.href=h.devLoginURL},zOpenidLogin3:function(a){b.location.href=a},zOpenidLogin:function(a){var g=0,g=a?c.getElementById("openidhiddenurl2"):c.getElementById("openidhiddenurl");d2=c.getElementById("openidurl");zSetCookie({key:"zopenidurl",
value:d2.value,futureSeconds:31536E4,enableSubdomains:!1});""===d2.value||"http://"!==d2.value.substr(0,7)&&"https://"!==d2.value.substr(0,8)?alert("You must enter an OpenID Provider URL or click one of the Google / Yahoo login buttons."):b.location.href=d2.value+g.value},checkIfPasswordsMatch:function(){var a=c.getElementById("passwordPwd"),b=c.getElementById("passwordPwd2"),g=c.getElementById("passwordMatchBox");if(""===a.value)return!0;if(a.value!==b.value)return g.style.display="block",!1;g.style.display=
"none";return!0},confirmToken:function(){var a={id:"zAjaxConfirmToken",method:"post",cache:!1};a.errorCallback=h.loginErrorCallback;a.callback=h.confirmTokenCallback;a.ignoreOldRequests=!0;a.url="/z/user/login/confirmToken";if("undefined"!==typeof zLoginServerToken&&zLoginServerToken.loggedIn)return a.postObj={tempToken:zLoginServerToken.token},"undefined"!==typeof zLoginServerToken.developer&&zSetCookie({key:"ZDEVELOPER",value:zLoginServerToken.developer,futureSeconds:31536E3,enableSubdomains:!1}),
zAjax(a),!1;if("undefined"!==typeof zLoginParentToken&&zLoginParentToken.loggedIn)return"undefined"!==typeof zLoginParentToken.developer&&zSetCookie({key:"ZDEVELOPER",value:zLoginParentToken.developer,futureSeconds:31536E3,enableSubdomains:!1}),a.postObj={tempToken:zLoginParentToken.token},zAjax(a),!1},confirmTokenCallback:function(a){a=eval("("+a+")");if("object"===typeof a&&a.success&&(h.zShowLoginError("Logging in..."),a=b.parent.document.getElementById("zRepostForm")))setTimeout("window.parent.document.zRepostForm.submit();",
5E3),a.submit()},init:function(){"undefined"!==typeof c.getElementById("z_tmpusername2")&&-1===b.location.href.toLowerCase().indexOf("zlogout=")&&h.confirmToken()}};zArrDeferredFunctions.push(h.init);b.zLogin=h;b.zIsLoggedIn=j;b.zIsAdminLoggedIn=function(){return!j()?!1:"1"===zGetCookie("ZISADMIN")?!0:!1}})(jQuery,window,document,"undefined");(function(a,b,c){function j(a,b){var g={mapTypeId:google.maps.MapTypeId.ROADMAP},j;for(j in b)g[j]=b[j];var l={};"undefined"!==typeof g.bindEvents&&(l=g.bindEvents,delete g.bindEvents);c.getElementById(a).style.display="block";g=new google.maps.Map(c.getElementById(a),g);for(j in l)google.maps.event.addListener(g,j,l[j]);return g}function g(a){"undefined"===typeof a&&(a={});var b={},c="";"undefined"!==typeof a.infoWindowHTML&&(c=a.infoWindowHTML,delete a.infoWindowHTML);"undefined"!==typeof a.bindEvents&&
(b=a.bindEvents,delete a.bindEvents);var g=new google.maps.Marker(a),j;for(j in b)google.maps.event.addListener(g,j,b[j]);l||(l=new google.maps.InfoWindow({content:""}));""!==c&&(g.infoWindowHTML=c,google.maps.event.addListener(g,"click",function(){l.close();l.setPosition(g.getPosition());l.setContent(g.infoWindowHTML);l.open(g.getMap(),g)}));return g}var l=null;b.zCreateMap=j;b.zCreateMapMarker=g;b.zMapFitMarkers=function(a,b){if(0!==b.length)if(1===b.length)0!==b[0].getPosition().lat()&&(a.setCenter(b[0].getPosition()),
a.setZoom(10));else{for(var c=new google.maps.LatLngBounds,g=!1,j=0,d=b.length;j<d;j++)"undefined"!==typeof b[j].getPosition()&&0!==b[j].getPosition().lat()&&(c.extend(b[j].getPosition()),g=!0);g&&a.fitBounds(c)}};b.zAddMapMarkerByLatLng=function(a,b,c,j,l){var d=g(b),p=new google.maps.LatLng(c,j);d.setPosition(p);d.setMap(a);"undefined"!==typeof l&&setTimeout(function(){l(d,p)},10);return d};b.zGetLatLongByAddress=function(a,b,c){var g=new google.maps.Geocoder;"undefined"===typeof c&&(c=0);setTimeout(function(){g.geocode({address:a},
function(c,d){d===google.maps.GeocoderStatus.OK?b(c[0].geometry.location):console.log('Geocode was not successful for address, "'+a+'", for the following reason: '+d)})},c)};b.zAddMapMarkerByAddress=function(a,b,c,j,l){var d=g(b),p=new google.maps.Geocoder;"undefined"===typeof l&&(l=0);setTimeout(function(){p.geocode({address:c},function(b,g){g===google.maps.GeocoderStatus.OK?(d.setPosition(b[0].geometry.location),d.setMap(a),"undefined"!==typeof j&&j(d,b[0].geometry.location)):console.log('Geocode was not successful for address, "'+
c+'", for the following reason: '+g)})},l);return d};b.zCreateMapWithAddress=function(a,b,c,l,q){var d=g(q),q=new google.maps.Geocoder;if(""===b.length)if("undefined"!==typeof c.defaultAddress)b=c.defaultAddress;else return;var p={zoom:8,center:new google.maps.LatLng(0,0),mapTypeId:google.maps.MapTypeId.ROADMAP},o;for(o in c)p[o]=c[o];var m=j(a,p);q.geocode({address:b},function(a,b){if(b===google.maps.GeocoderStatus.OK){setTimeout(function(){google.maps.event.trigger(m,"resize");m.setCenter(a[0].geometry.location)},
1);d.setPosition(a[0].geometry.location);d.setMap(m);if("undefined"!==typeof p.triggerEvents)for(var c in p.triggerEvents)google.maps.event.trigger(m,c);l(d)}else alert("Geocode was not successful for the following reason: "+b)});return{map:m,marker:d}};b.zCreateMapWithLatLng=function(a,b,c,l,q,d){var b={zoom:8,center:new google.maps.LatLng(b,c),mapTypeId:google.maps.MapTypeId.ROADMAP},p;for(p in l)b[p]=l[p];a=j(a,b);"undefined"===typeof d&&(d={});d.position=b.center;d.map=a;d=g(d);if("undefined"!==
typeof b.triggerEvents)for(p in b.triggerEvents)google.maps.event.trigger(a,p);q(d);return{map:a,marker:d}}})(jQuery,window,document,"undefined");var zValues=[],zFormData={},zTouchPosition={x:[0],y:[0],curX:[0],curY:[0],count:0,curCount:0};"undefined"===typeof window.zMenuDisablePopups&&(window.zMenuDisablePopups=!1);var arrOriginalMenuButtonWidth=[];
(function(a,b,c){function j(){var b=zGetElementsByClassName("trigger");a(".zMenuBarDiv ul").css("display","none");for(var g=0;g<b.length;g++){b[g].onmousedown=function(){var b=zGetAbsPosition(this),d=a(this).position(),g=c.getElementById(this.parentNode.id+"_menu");zContentTransition.firstLoad===false&&a(this).children("ul").css("display","block");if(g){g.style.position="absolute";if(zo(this.id.split("_")[0]+"Vertical")){g.style.top=d.top+"px";g.style.left=d.left+b.width+"px"}else{g.style.top=d.top+
b.height+"px";g.style.left=d.left+"px"}}};b[g].onclick=function(){if(zWindowSize.width<960)return true;var b=c.getElementById(this.parentNode.id+"_menu"),d=b.style.display;a(".zMenuBarDiv ul").css("display","none");b.style.display="block";if(b){if(d!="none"){(b=zContentTransition.doLinkOnClick(this))&&a(".zMenuBarDiv ul").css("display","none");return b}return false}(b=zContentTransition.doLinkOnClick(this))&&a(".zMenuBarDiv ul").css("display","none");return b}}}function g(){var d,g;g=c.getElementsByTagName("LI");
d=a(".zMenuWrapper").css("visibility","visible").show();a(".trigger",d).each(function(){this.href==b.location.href&&a(this).addClass("trigger-selected")});a(".zMenuWrapper").each(function(){if(this.className.indexOf("zMenuEqualDiv")!==-1){var b=a(".zMenuWrapper > ul > li > a"),d=a(".zMenuBarDiv",this).width();a(this).width(d);b.length&&(a(b[0]).outerWidth(),a(b[0]).width());if(this.id===""){this.id="zMenuContainerDiv"+n;n++}b=0;this.getAttribute("data-button-margin")!==""&&(b=parseInt(this.getAttribute("data-button-margin")));
l(this.id,b)}});if(zMenuDisablePopups)a(".zMenuBarDiv .trigger").each(function(){a("ul",this.parentNode).detach()});else if(!zIsTouchscreen()&&g)for(d=0;d<g.length;d++)if(g[d].parentNode.id.indexOf("zMenuDiv")!==-1){s.push(g[d]);g[d].onmouseover=function(){var b=zGetAbsPosition(this),d=a(this).position(),g=c.getElementById(this.id+"_menu");zContentTransition.firstLoad===false&&a(this).children("ul").css("display","block");if(g){g.style.position="absolute";if(zo(this.id.split("_")[0]+"Vertical")){g.style.top=
d.top+"px";g.style.left=d.left+b.width+"px"}else{g.style.top=d.top+b.height+"px";g.style.left=d.left+"px"}g.style.zIndex=2E3}this.className=this.className.indexOf("zMenuEqualUL")===-1?"zMenuHvr":"zMenuEqualLI zMenuHvr"};g[d].onmouseout=function(){this.className=this.className.indexOf("zMenuEqualUL")===-1?"zMenuNoHvr":"zMenuEqualLI zMenuNoHvr";zContentTransition.firstLoad===false&&a(this).children("ul").css("display","none")}}if(q===false&&zIsTouchscreen()){q=true;zLoadFile("/z/stylesheets/tablet.css",
"css");j()}}function l(b,c){a("#"+b).css("visibility","hidden");typeof arrOriginalMenuButtonWidth[b]==="undefined"&&zArrResizeFunctions.push(function(){l(b,c)});arrOriginalMenuButtonWidth[b]={ul:a("#"+b+" > ul "),arrLI:a("#"+b+" > ul > li"),arrItem:a("#"+b+" > ul > li > a"),arrItemWidth:[],arrItemBorderAndPadding:[],containerWidth:0,navWidth:0,marginSize:c};for(var g=arrOriginalMenuButtonWidth[b],m=0;m<g.arrItem.length;m++){a(g.arrItem[m]).css({width:"auto","min-width":"1px"});a(g.arrItem[m]).css({"margin-right":"0px"})}a(g.arrLI).each(function(){a(this).css("margin-right",
"0px")});for(var h=g.arrItem.length,m=0;m<h;m++){var k=a(g.arrItem[m]);k.width("auto");var j=k.width(),n=parseInt(k.css("border-left-width")),q=parseInt(k.css("border-right-width"));isNaN(n)&&(n=1);isNaN(q)&&(q=1);n=parseInt(k.css("padding-left"))+parseInt(k.css("padding-right"))+parseInt(n)+parseInt(q);k.css("box-sizing")=="border-box"&&(n=0);a(k).css({"padding-left":"0px","padding-right":"0px"});if(m===h-1){a(k).css({"margin-right":"0px"});j=a(k).width();a(k).css({width:j+"px"});g.navWidth=g.navWidth+
(j+n)}else{a(k).css({"margin-right":g.marginSize+"px",width:j});g.navWidth=g.navWidth+(j+c+n)}g.arrItemBorderAndPadding.push(n);g.arrItemWidth.push(j)}a("#"+b).width("100%");g.containerWidth=a("#"+b).width()-1;m=g.containerWidth;k=Math.floor((m-g.navWidth)/g.arrItem.length/2);m<g.navWidth+(g.arrItem.length-1)*g.marginSize?a(g.arrLI).each(function(){a(this).css("display","block")}):a.browser.msie&&a.browser.version<=7?a(g.arrLI).each(function(){a(this).css("display","inline")}):a(g.arrLI).each(function(){a(this).css("display",
"inline-block")});n=0;h=g.arrItem.length;for(m=0;m<h;m++){var j=g.arrItemWidth[m],q=Math.floor(j+k*2),s=Math.max(j,q),q=q/g.containerWidth,j=j/g.containerWidth,q=Math.round(q*1E5)/1E3-0.001,j=Math.round(j*1E5)/1E3-0.001;if(h-1==m){s=q=g.containerWidth-n;q=q/g.containerWidth;j=q=Math.round(q*1E5)/1E3-0.001;a(g.arrItem[m]).parent().css({width:q+"%","min-width":j+"%"})}else a(g.arrItem[m]).parent().css({width:q+"%","min-width":j+"%","margin-right":c+"px"});a(g.arrItem[m]).css({width:"100%","min-width":"100%"});
n=n+Math.round(s+c)}a("#"+b).append(g.ul);a("#"+b).css("visibility","visible")}function h(b){var b=zGetAbsPosition(b),c=zGetAbsPosition(a("#zGearWindowPreDiv1")[0]);b.y=b.y+Math.round(b.height/2);b.x=b.x+Math.round(b.width/2);if(b.x+c.width+10>zWindowSize.width)b.x=zWindowSize.width-c.width-10;if(b.y+c.height+10>zWindowSize.height)b.y=zWindowSize.height-c.height-10;if(b.x<10)b.x=10;if(b.y<10)b.y=10;a("#zGearWindowPreDiv1").css({left:b.x,top:b.y})}function k(){zMSIEBrowser!==-1&&zMSIEVersion<=7&&a(".zGearButton").html('<img src="/z/a/images/gear.png" alt="Settings" />');
a(".zGearButton").bind("click",function(){var b=this.getAttribute("data-button-json"),c=this;if(!a("#zGearWindowPreDiv1").length){a("body").append('<div id="zGearWindowPreDiv1" class="zGearPopupMenu"><div class="zGearPopupInnerMenu"></div></div>');a("body").bind("click",function(){a("#zGearWindowPreDiv1").css("visibility")=="visible"&&a("#zGearWindowPreDiv1").slideToggle(100,function(){a(this).css("visibility","hidden")})});zArrResizeFunctions.push(function(){h(c)})}a("#zGearWindowPreDiv1").css("visibility",
"hidden").show();a("#zGearWindowPreDiv1 .zGearPopupInnerMenu").html(b);h(c);b=zGetAbsPosition(a("#zGearWindowPreDiv1")[0]);a("#zGearWindowPreDiv1 .zGearPopupMenuButton").css({width:b.width-20+"px"}).last().css("margin-bottom","0px");a("#zGearWindowPreDiv1").css({display:"none",visibility:"visible"}).slideToggle(100);return false})}var s=[],n=0,q=false;zArrDeferredFunctions.push(function(){a(c.body).bind("touchstart",function(a){zTouchPosition.x=[];zTouchPosition.y=[];if(typeof a.targetTouches!=="undefined"){zTouchPosition.count=
a.targetTouches.length;for(var b=0;b<a.targetTouches.length;b++){zTouchPosition.x.push(a.targetTouches[b].pageX);zTouchPosition.y.push(a.targetTouches[b].pageY)}}});a(c.body).bind("touchmove",function(a){zTouchPosition.curX=[];zTouchPosition.curY=[];if(typeof a.targetTouches!=="undefined")for(var b=0;b<a.targetTouches.length;b++){zTouchPosition.curX.push(a.targetTouches[b].pageX);zTouchPosition.curY.push(a.targetTouches[b].pageY)}});a(c.body).bind("touchend",function(a){zTouchPosition.x=[];zTouchPosition.y=
[];zTouchPosition.curX=[];zTouchPosition.curY=[];if(typeof a.targetTouches!=="undefined"){zTouchPosition.count=a.targetTouches.length;for(var b=0;b<a.targetTouches.length;b++){zTouchPosition.curX.push(a.targetTouches[b].pageX);zTouchPosition.curY.push(a.targetTouches[b].pageY);zTouchPosition.x.push(a.targetTouches[b].pageX);zTouchPosition.y.push(a.targetTouches[b].pageY)}}})});zArrLoadFunctions.push({functionName:function(){a(".zMenuClear").length&&g()}});zArrDeferredFunctions.push(function(){k()});
b.zInitZValues=function(a){for(var b=0;b<a;b++)zValues[b]=[]};b.zHideMenuPopups=function(){for(var b=0;b<s.length;b++)a(s[b]).children("ul").css("display","none");a(".zdc-sub").css("display","none")}})(jQuery,window,document,"undefined");zHumanMovement=!1;"undefined"===typeof window.console&&(window.console={log:function(){}});"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});function zKeyExists(a,b){return b in a}function zGetURLParameter(a){for(var b=window.location.search.substring(1).split("&"),c=0;c<b.length;c++){var j=b[c].split("=");if(j[0]==a)return j[1]}return""}
function zHtmlEditFormat(a,b){b=b?"&#13;":"\n";return(""+a).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,b).replace(/[\r\n]/g,b)}var zDisableSearchFilter=0;
zArrDeferredFunctions.unshift(function(){(function(a){a.unserialize=function(a){for(var a=decodeURI(a).split("&"),c={},j,g,l=0,h=a.length;l<h;l++){j=a[l].split("=");g=j[0];if(typeof c[g]==="undefined")c[g]=decodeURIComponent(j[1]);else{typeof c[g]==="string"&&(c[g]=[c[g]]);c[g].push(decodeURIComponent(j[1]))}}return c}})($)});var zPageHelpId="";
function zGetHelpForThisPage(a){a.id="getHelpForThisPageLinkId";if(zPageHelpId==""){alert("No help resources exist for this page yet.\n\nFeel free to browse the documentation or contact the web developer for further assistance.");return false}a.href=zPageHelpId;return true}function zUpgradeBrowserMessage(){zMSIEBrowser!==-1&&zMSIEVersion<=7&&$(".adminBrowserCompatibilityWarning").show()}zArrLoadFunctions.push({functionName:zUpgradeBrowserMessage});
function zGetChildElementCount(a){for(var b=0,c=0;c<document.getElementById(a).childNodes.length;c++)document.getElementById(a).childNodes[c].nodeName!=="#text"&&b++;return b}var zPopUnderURL="",zPopUnderFeatures="",zPopUnderLoaded=!1;
function zLoadPopUnder(a,b){zPopUnderURL=a;zPopUnderFeatures=b;if(zPopUnderLoaded===false&&zGetCookie("zpopunder")===""){zPopUnderLoaded=true;document.body.onclick=function(){zSetCookie({key:"zpopunder",value:"yes",futureSeconds:43200,enableSubdomains:false});win2=window.open(zPopUnderURL,"zpopunderwindow",zPopUnderFeatures);win2.blur();window.focus()}}}
function zURLEscape(a){var a=encodeURIComponent(a.toString().trim()),b=RegExp("/+/","g"),a=a.replace(b,"+"),b=RegExp("/@/","g"),a=a.replace(b,"@"),b=RegExp("///","g"),a=a.replace(b,"/"),b=RegExp("/*/","g");return a=a.replace(b,"*")}function zLoadVideoJSID(a,b){VideoJS.setup(a);b&&document.getElementById(a).player.play()}function walkTheDOM(a,b){b(a);for(a=a.firstChild;a;){walkTheDOM(a,b);a=a.nextSibling}}
function zGetElementsByClassName(a){if(typeof document.getElementsByClassName!=="undefined")return document.getElementsByClassName(a);var b=[];walkTheDOM(document.body,function(c){var j;j=c.className;var g;if(j){j=j.split(" ");for(g=0;g<j.length;g++)if(j[g]===a){b.push(c);break}}});return b}function zToggleDisplay(a){a=document.getElementById(a);a.style.display=a.style.display==="none"?"block":"none"}var zArrBlink=[];
function zBlinkId(a,b){var c=document.getElementById(a);typeof zArrBlink[a]==="undefined"&&(zArrBlink[a]=0);c.style.visibility=zArrBlink[a]%2===0?"visible":"hidden";zArrBlink[a]=zArrBlink[a]<1?1:0;setTimeout("zBlinkId('"+a+"',"+b+")",b)}var zIgnoreClickBackup=!1;function zRenable(){zIgnoreClickBackup?zIgnoreClickBackup=false:zInputHideDiv();return true}var zDocumentClickBackup="function"===typeof document.onclick?document.onclick:function(){};
$(document).bind("click",function(a){zDocumentClickBackup(a);zRenable(a)});function zFixText(a){a=zMakeEnglish(a);a=zIsAlphabet(a);return a=a.toLowerCase()}function zFormatTheArray(a){var b=[];for(i=0;i<a.length;i++)b[i]=zFixText(a[i]);return b}function zIsAlphabet(a){a.match(/^[a-zA-Z0-9 ]+$/);return a}var daysToOffset=0;
function zMakeEnglish(a){var b=a,c=/^[a-zA-Z ]+$/;if(a.match(c))return a;var j=["A","A","A","A","A","A","AE","C","E","E","E","E","I","I","I","I","ETH","N","O","O","O","O","O","O","U","U","U","U","Y","THORN","s","a","a","a","a","a","a","ae","c","e","e","e","e","i","i","i","i","eth","n","o","o","o","o","o","o","u","u","u","u","y","thorn","y","OE","oe","S","s","Y","f"],g=["\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd",
"\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd"];for(e=0;e<a.length;e++)for(f=
0;f<g.length;f++)if(b.charAt(e)===g[f]){myChar=b.charAt(e);if(!myChar.match(c)){pattern=RegExp(g[f]);b=b.replace(pattern,j[f])}}return b}function zStringReplaceAll(a,b,c){return a.replace(RegExp(b,"g"),c)}
function zLoadFile(a,b){if(b==="js"){var c=document.createElement("script");c.setAttribute("type","text/javascript");c.setAttribute("src",a)}else if(b==="css"){c=document.createElement("link");c.setAttribute("rel","stylesheet");c.setAttribute("type","text/css");c.setAttribute("href",a)}typeof c!=="undefined"&&document.getElementsByTagName("head")[0].appendChild(c)}function zSet9(a){document.getElementById(a).value="9989";zHumanMovement=true}
"undefined"===typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")});var zMSIEVersion=-1,zMSIEBrowser=window.navigator.userAgent.indexOf("MSIE");-1!==zMSIEBrowser&&(zMSIEVersion=window.navigator.userAgent.substring(zMSIEBrowser+5,window.navigator.userAgent.indexOf(".",zMSIEBrowser)));function zo(a){var b=document.getElementById(a);return b!==null?b:typeof window[a]==="undefined"?false:eval(a)}
function zso(a,b,c,j){typeof c==="undefined"&&(c=false);typeof j==="undefined"&&(j=false);var g="";if(c){if(zKeyExists(a,b)){g=a[b];return isNaN(g)?j!==""?j:0:g}return j!==""?j:0}return zKeyExists(a,b)?a[b]:j}function forceCustomFontDesignModeOn(a){doc=tinyMCE.get(a).getDoc();doc.designMode="on";$("span",doc).each(function(){this.innerHTML==="BESbswy"&&$(this).remove()})}
function forceCustomFontLoading(a){doc=a.getDoc();if(navigator.userAgent.indexOf("MSIE ")===-1)doc.designMode="off";if(typeof zFontsComURL!=="undefined"&&zFontsComURL!==""){if(zFontsComURL.substr(zFontsComURL.length-4)===".js"){head=doc.getElementsByTagName("head")[0];script=doc.createElement("script");script.src=zFontsComURL;script.type="text/javascript"}else{head=doc.getElementsByTagName("head")[0];script=doc.createElement("link");script.href=zFontsComURL;script.rel="stylesheet";script.type="text/css"}head.appendChild(script)}if(typeof zTypeKitURL!==
"undefined"&&zTypeKitURL!==""){head=doc.getElementsByTagName("head")[0];script=doc.createElement("script");script.src=zTypeKitURL;script.type="text/javascript";head.appendChild(script);script=doc.createElement("script");script.type="text/javascript";script.src="/z/javascript/zTypeKitOnLoad.js";head.appendChild(script)}navigator.userAgent.indexOf("MSIE ")===-1&&document.getElementById(a.editorId)&&setTimeout('forceCustomFontDesignModeOn("'+a.editorId+'");',2E3)}
function zGetCurrentRootRelativeURL(a){for(var a=a.split("/"),b="",c=3;c<a.length;c++)b=b+("/"+a[c]);b=b.split("#");return b[0]}function zIsTestServer(){return typeof zThisIsTestServer!=="undefined"&&zThisIsTestServer?true:false}function zIsDeveloper(){return typeof zThisIsDeveloper!=="undefined"&&zThisIsDeveloper?true:false}var zAddThisLoaded=!1;function zLoadAddThisJsDeferred(){setTimeout(zLoadAddThisJs,300)}
function zLoadAddThisJs(){if(!zIsTestServer()){for(var a=[],b=false,c=1;c<=5;c++){d1=document.getElementById("zaddthisbox"+c);if(!(d1==null||typeof d1=="undefined"||d1.style.display=="none")&&d1){b=true;d1.innerHTML='<div style="float:left; padding-right:5px;padding-bottom:5px;"><div class="g-plus" data-action="share" data-annotation="bubble"></div></div><div style="float:left; padding-right:5px; padding-bottom:5px;"><iframe style="overflow: hidden; border: 0px none; width: 90px; height: 25px; " src="//www.facebook.com/plugins/like.php?href='+
escape(window.location.href)+'&amp;layout=button_count&amp;show_faces=false&amp;width=90&amp;action=like&amp;font=arial&amp;layout=button_count"></iframe></div><div style="float:left; padding-right:5px; padding-bottom:5px;"><script type="IN/Share" data-counter="right"><\/script></div><div style="float:left; padding-right:5px;padding-bottom:5px;"><a class="twitter-share-button" href="https://twitter.com/share">Tweet</a></div>';d1.id="zaddthisbox"+c+"_loaded";a.push(d1)}}if(b){zLoadFile("//platform.twitter.com/widgets.js",
"js");zLoadFile("//platform.linkedin.com/in.js","js");a=document.createElement("script");a.type="text/javascript";a.async=true;a.src="https://apis.google.com/js/platform.js";b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}}}zArrLoadFunctions.push({functionName:zLoadAddThisJsDeferred});
function zeeo(a,b,c,j,g,l,h,k,s,n,q){if(n)return c+b+j+a;if(g)var d='<a href="mailto:'+c+b+j+a+'">',d=(k+h+s+l!==""?d+(k+h+s+l):d+(c+b+j+a))+"</a>";else d=d+(c+b+j+a);if(a=document.getElementById("zencodeemailspan"+q))a.innerHTML=d}function zSetEmailBody(a,b){var c=document.getElementById("zEmailBody"+a),c=c.contentWindow?c.contentWindow:c.contentDocument.document?c.contentDocument.document:c.contentDocument;c.document.open();c.document.write(b);c.document.close()}
function zSetEmailBodyHeight(a){var b=a=document.getElementById("zEmailBody"+a);for(a.style.display="block";b.parentNode!==null;)b=b.parentNode;a.style.height=a.contentWindow?a.contentWindow.document.body.scrollHeight+1+"px":a.contentDocument.document?a.contentDocument.document.body.scrollHeight+1+"px":a.contentDocument.body.scrollHeight+1+"px"}
function zCheckIfPageAlreadyLoadedOnce(){var a=document.getElementById("zPageLoadedOnceTracker");if(a.value.length==="")window.location.href=window.location.href;a.value=""}zArrDeferredFunctions.push(function(){zIsTouchscreen()&&$(".zPhoneLink").each(function(){this.href="tel:"+this.innerText})});function zConvertToMilitaryTime(a,b,c,j){a=a.toLowerCase();b=parseInt(b);c=parseInt(c);if(a=="pm"||a=="p.m.")b!=12&&(b=b+12);return c<10?j?"0"+parseInt(b+"0"+c):parseInt(b+"0"+c):j?"0"+b+c:b+c}
function gotoReimport(){var a=document.getElementById("mls_id1"),a=a.options[a.selectedIndex].value;if(a!==""){window.open("/z/listing/idx/reimport?mls_id="+a);return false}}function gotoFieldNotOutput(){var a=document.getElementById("mls_provider1"),a=a.options[a.selectedIndex].value;if(a!==""){window.open("/z/listing/admin/listing-misc/index?mlsName="+a);return false}}function gotoSite(a){if(a!=="")window.location.href="/z/server-manager/admin/robots/edit?sid="+escape(a)}
function setHidden(a,b){me=eval("document.myForm.log_resolver"+b);me.disabled=a.checked?false:true}var zIntervalIdForCFCExplorer=0;function resize_iframe(){clearInterval(zIntervalIdForCFCExplorer);var a=window.innerWidth;if(document.body.clientHeight)a=document.body.clientHeight;if(document.getElementById("comframe")&&a>0&&document.getElementById("comframe").offsetTop){a=parseInt(a-document.getElementById("comframe").offsetTop-15);if(a>0)document.getElementById("comframe").style.height=a+"px"}}
function zURLAppend(a,b){return a.indexOf("?")!==-1?a+"&"+b:a+"?"+b}function rentalForceReserve(a){if(a.value==="0"&&a.checked)document.getElementById("rental_config_reserve_online_name2").checked=true}function rentalForceCalendar(a){if(a.value==="1"&&a.checked)document.getElementById("rental_config_availability_calendar_name1").checked=true}var zArrURLParam=[];
function zParseURLParam(){var a,b=/\+/g,c=/([^&=]+)=?([^&]*)/g,j=window.location.search.substring(1);for(zArrURLParam={};;)if(a=c.exec(j))zArrURLParam[decodeURIComponent(a[1].replace(b," "))]=decodeURIComponent(a[2].replace(b," "));else break}zArrDeferredFunctions.push(function(){$(window).bind("popstate",zParseURLParam);zParseURLParam()});
function zFormatDollar(a){a=a.toFixed(2).split(".");return["$",a[0].split("").reverse().reduce(function(a,c,j){return c+(j&&!(j%3)?",":"")+a},"."),a[1]].join("")}function zGetPMIRate(a,b){return b<0.8?100:a===30?b>0.8&&b<=0.85?0.32:b>0.85&&b<=0.9?0.52:b>0.9&&b<=0.95?0.78:b>0.95&&b<=0.97?0.9:0:b>0.8&&b<=0.85?0.19:b>0.85&&b<=0.9?0.23:b>0.9&&b<=0.95?0.26:b>0.95&&b<=0.97?0.79:0}
function zCalculateMonthlyPayment(){var a=parseFloat(document.getElementById("homeprice").value),b=parseFloat(document.getElementById("percentdown").value),c=document.getElementById("loantype"),c=parseFloat(c.options[c.selectedIndex].value),j=parseFloat(document.getElementById("currentrate").value),g=parseFloat(document.getElementById("homeinsurance").value),l=parseFloat(document.getElementById("hometax").value),h=parseFloat(document.getElementById("homehoa").value);c===30.5&&(c=30);var g=g/12,l=
l/12,k=document.getElementById("zMortgagePaymentResults");arrT=[];var s=c*12,b=a-a*(b/100),n=j/100/12,j=n*b*Math.pow(1+n,s)/(Math.pow(1+n,s)-1),s=b*n;zFormatDollar(Math.round(s*100)/100);zFormatDollar(Math.round((j-s)*100)/100);var s=zFormatDollar(Math.round(j*100)/100),h=h/12,n=zFormatDollar(Math.round(h*100)/100),q=zFormatDollar(Math.round(g*100)/100),d=zFormatDollar(Math.round(l*100)/100),a=b/a,p=0;if(a>0.8){var o=zGetPMIRate(c,a);if(o===0){alert("Loan to value must be 97% or less");k.value="";
return}if(o===100){p=0;o="$0.00"}else{p=b*(o/100)/12;o=zFormatDollar(Math.round(p*100)/100)}}arrHTML=['<span class="zMorgagePaymentTextTotal">'+zFormatDollar(Math.round((h+p+g+l+j)*100)/100)+"/month</span> (Principal+Interest+Tax+Insurance+PMI)<hr />"+s+" principal & interest<br />"+q+" Insurance<br />"+d+" Taxes<br />"+n+" HOA dues<br />"];a>0.8&&arrHTML.push(o+" PMI");k.innerHTML=arrHTML.join("")};(function(a,b){var c=3;b.zIsAppleIOS=function(){return-1!==navigator.userAgent.indexOf("iPhone")||-1!==navigator.userAgent.indexOf("iPad")?!0:!1};b.zIsTouchscreen=function(){if(3!==c)return c;var a=navigator.userAgent.toLowerCase();return a.replace(/(android|iphone|ipad|viewpad|tablet|bolt|xoom|touchpad|playbook|kindle|gt-p|gt-i|sch-i|sch-t|mz609|mz617|mid7015|tf101|g-v|ct1002|transformer|silk| tab)/g,"anything")!==a||-1!==a.indexOf("MSIE 10")&&b.navigator&&"undefined"!==typeof b.navigator.msPointerEnabled&&
!1===b.navigator.msPointerEnabled?c=!0:c=!1};b.zSetFullScreenMobileApp=function(){};b.zIsMobilePhone=function(){var a=navigator.userAgent||navigator.vendor||b.opera;return/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.toLowerCase().substr(0,
4))?!0:!1}})(jQuery,window,document,"undefined");(function(a,b,c){function j(){zScrollbarWidth=1;zGetClientWindowSize();for(var b=zWindowSize,g=1;g<=n;g++){var m=c.getElementById("zModalOverlayDivContainer"+g),h=c.getElementById("zModalOverlayDivInner"+g);k[g].scrollPosition=[self.pageXOffset||c.documentElement.scrollLeft||c.body.scrollLeft,self.pageYOffset||c.documentElement.scrollTop||c.body.scrollTop];isNaN(k[g].modalWidth)&&(k[g].modalWidth=1E4);isNaN(k[g].modalHeight)&&(k[g].modalHeight=1E4);m.style.top=k[g].scrollPosition[1]+"px";m.style.left=
k[g].scrollPosition[0]+"px";if(k[g].fullscreen)var m=b.width-2*d,j=b.height-2*d;else m=Math.min(k[g].modalWidth,Math.min(b.width-2*d,k[g].modalMaxWidth)),j=Math.min(k[g].modalHeight,Math.min(b.height-2*d,k[g].modalMaxHeight));768>b.width&&768>k[g].modalMaxMobileWidth&&(m=k[g].modalMaxMobileWidth,j=k[g].modalMaxMobileHeight);var l=Math.round(Math.max(0,b.width-m)/2),q=Math.round(Math.max(0,b.height-j)/2);h.style.left=l+"px";h.style.top=k[g].disableClose?q+"px":q+25+"px";k[g].forceSize?m=768>b.width&&
768>k[g].modalMaxMobileWidth?k[g].modalMaxMobileWidth:k[g].width:k[g].disableResize||(768>b.width&&768>k[g].modalMaxMobileWidth||(k[g].disableClose?(m-=k[g].padding,j-=k[g].padding):(m=m-k[g].padding-5,j=j-k[g].padding-22)),h.style.width=m+"px",h.style.height=j+"px");a(".zCloseModalButton"+g).css({left:l+m-80+"px",top:q+"px"})}}function g(b,d){var g=c.body||c.documentElement;n++;k[n]={disableClose:!1,padding:20,disableResize:!1,modalMaxWidth:1E4,modalMaxHeight:1E4,modalMaxMobileWidth:1E4,modalMaxMobileHeight:1E4,
modalWidth:1E4,modalHeight:1E4,fullscreen:!1,forceSize:!1};"undefined"!==typeof d.fullscreen&&d.fullscreen&&(k[n].fullscreen=d.fullscreen);"undefined"!==typeof d.disableResize&&d.disableResize&&(k[n].disableResize=d.disableResize);"undefined"!==typeof d.forceSize&&d.forceSize&&(k[n].forceSize=d.forceSize);var r=!1;"undefined"!==typeof d.disableClose&&d.disableClose&&(r=d.disableClose,k[n].disableClose=d.disableClose);"undefined"!==typeof d.padding&&(k[n].padding=d.padding);var v="";r||(v='<div class="zCloseModalButton'+
n+'" style="width:80px; text-align:right; left:0px; top:0px; position:relative; float:left;  font-weight:bold;"><a href="javascript:void(0);" onclick="zCloseModal();" style="color:#CCC;">X Close</a></div>');v='<div id="zModalOverlayDivContainer'+n+'" class="zModalOverlayDiv">'+v+'<div id="zModalOverlayDivInner'+n+'" class="zModalOverlayDiv2"></div></div>';a(g).append(v);k[n].disableResize||(g.style.overflow="hidden");zGetClientWindowSize();a(".zModalOverlayDiv2").css("padding",k[n].padding+"px");
g=zWindowSize;k[n].modalWidth=d.width;k[n].modalHeight=d.height;k[n].fullscreen?(d.width=g.width,d.height=g.height):(d.width=Math.min(k[n].modalMaxWidth,Math.min(d.width,g.width)),d.height=Math.min(k[n].modalMaxHeight,Math.min(d.height,g.height)));"undefined"!==typeof d.maxWidth&&(k[n].modalMaxWidth=d.maxWidth);"undefined"!==typeof d.maxHeight&&(k[n].modalMaxHeight=d.maxHeight);"undefined"!==typeof d.maxMobileWidth&&(k[n].modalMaxMobileWidth=d.maxMobileWidth);"undefined"!==typeof d.maxMobileHeight&&
(k[n].modalMaxMobileHeight=d.maxMobileHeight);k[n].scrollPosition=[self.pageXOffset||c.documentElement.scrollLeft||c.body.scrollLeft,self.pageYOffset||c.documentElement.scrollTop||c.body.scrollTop];if(1==n){for(var v=c.getElementsByTagName("iframe"),w=0;w<v.length;w++)if(""===v[w].style.visibility||"visible"===v[w].style.visibility)v[w].style.visibility="hidden",h.push(v[w]);if(-1!==navigator.userAgent.indexOf("MSIE 6.0")){v=c.getElementsByTagName("select");for(w=0;w<v.length;w++)if(""===v[w].style.visibility||
"visible"===v[w].style.visibility)v[w].style.visibility="hidden",h.push(v[w]);v=c.getElementsByTagName("object");for(w=0;w<v.length;w++)if(""===v[w].style.visibility||"visible"===v[w].style.visibility)v[w].style.visibility="hidden",h.push(v[w]);c.getElementById("zModalOverlayDiv").style.backgroundImage="url(/z/a/images/bg-checker.gif)"}}w=c.getElementById("zModalOverlayDivContainer"+n);v=c.getElementById("zModalOverlayDivInner"+n);w.style.display="block";v.style.display="block";v.onclick=function(){q=
true;setTimeout(function(){q=false},100);return false};v.innerHTML=b;w.onclick=r?function(){}:function(){q||l()};a(".zModalOverlayDiv2 iframe").length?(a(".zModalOverlayDiv2").css("overflow","hidden"),a(".zModalOverlayDiv2 iframe").height("100%")):a(".zModalOverlayDiv2").css("overflow","auto");w.style.top=k[n].scrollPosition[1]+"px";w.style.left=k[n].scrollPosition[0]+"px";w.style.height="100%";w.style.width="100%";r=Math.round(Math.max(0,g.width-d.width)/2);g=Math.round(Math.max(0,g.height-d.height)/
2);v.style.left=r+"px";v.style.top=g+"px";k[n].disableClose?(v.style.width=d.width-k[n].padding+"px",v.style.height=d.height-k[n].padding+"px"):(v.style.width=d.width-k[n].padding-5+"px",v.style.height=d.height-k[n].padding-22+"px");a(".zCloseModalButton"+n).css({left:r+d.width-80+"px",top:g-25+"px"});s=setInterval(j,500)}function l(){var a=c.getElementById("zModalOverlayDivContainer"+n);if(a){clearInterval(s);for(var b=0;b<zArrModalCloseFunctions.length;b++)zArrModalCloseFunctions[b]();zArrModalCloseFunctions=
[];s=!1;(c.body||c.documentElement).style.overflow="auto";a.parentNode.removeChild(a);if(1==n)for(b=0;b<h.length;b++)h[b].style.visibility="visible";n--;0>n&&(n=0)}}var h=[],k=[],s=!1,n=0,q=!1,d=50;b.zArrModalCloseFunctions=[];"undefined"==typeof b.zModalCancelFirst&&(b.zModalCancelFirst=!1);b.zModalLockPosition=function(){var d=c.getElementById("zModalOverlayDiv");if(d&&d.style.display==="block"){var g=a(b).scrollTop();d.style.top=g+"px";return false}return true};b.zShowModalStandard=function(a,
b,c,h,k){var j=zGetClientWindowSize(),a=a.indexOf("?")===-1?a+"?":a+"&";typeof b==="undefined"&&(b=3E3);typeof c==="undefined"&&(c=3E3);typeof h==="undefined"&&(h=false);typeof k==="undefined"&&(k=false);d=30;var l=20;if(h)l=d=0;else if(zWindowSize.width<550)l=d=10;a='<iframe src="'+a+"ztv="+Math.random()+'" frameborder="0"  style=" margin:0px; border:none; overflow:auto;" seamless="seamless" width="100%" height="98%" />';g(a,{width:Math.min(b,j.width-d),height:Math.min(c,j.height),maxWidth:b,maxHeight:c,
padding:l,disableClose:h,fullscreen:k})};b.zFixModalPos=j;b.zShowModal=g;b.zCloseModal=l;b.zShowImageUploadWindow=function(a,d,h){var k=zGetClientWindowSize();b.zImageCountObj=c.getElementById(h);a='<iframe src="/z/_com/app/image-library?method=imageform&image_library_id='+a+"&fieldId="+encodeURIComponent(d)+"&ztv="+Math.random()+'"  style="margin:0px;border:none; overflow:auto;" seamless="seamless" width="100%" height="95%"></iframe>';g(a,{width:k.width-100,height:k.height-100})};b.zCloseThisWindow=
function(a){typeof a==="undefined"&&(a=false);if(b.parent.zCloseModal)if(a){a=b.parent.location.href;b.parent.location.href=a}else b.parent.zCloseModal();else if(a){a=b.parent.location.href;b.parent.location.href=a}else b.close()}})(jQuery,window,document,"undefined");var zMousePosition={x:0,y:0},zDrag_dragObject=null,zDragTableOnMouseMove=function(){},zMapMarkerRollOutV3=function(){},zHumanMovement=!1;
(function(a,b,c){var j,g;function l(a){var d=c.documentElement.scrollLeft,g=c.documentElement.scrollTop;"undefined"===typeof d&&(d=c.body.scrollLeft);"undefined"===typeof g&&(g=c.body.scrollTop);if(c.layers)var h=b.innerWidth+b.pageXOffset,m=b.innerHeight+b.pageYOffset;else c.all?(m=c.documentElement.clientHeight?c.documentElement.clientHeight:c.body.clientHeight,h=(c.documentElement.clientWidth?c.documentElement.clientWidth:c.body.clientWidth)+d,m+=g):c.getElementById&&(h=b.innerWidth+b.pageXOffset,
m=b.innerHeight+b.pageYOffset);var k=0,j=0;a.pageX?k=a.pageX:a.clientX&&(k=a.clientX+d);a.pageY?j=a.pageY:a.clientY&&(j=a.clientY+g);return{x:k,y:j,pageWidth:h,pageHeight:m}}function h(a){a=a||b.event;l(a);for(a=0;a<o.length;a++){var g=o[a];s(g);parseInt(g.offsetWidth);parseInt(g.offsetHeight)}null!==zDrag_dragObject&&(a=d[zDrag_dragObject.id],"undefined"!==typeof a&&a.callbackFunction(zDrag_dragObject,a,!0));zDrag_dragObject=null}function k(a,d){var d=d||b.event,g=s(a),c=l(d);return{x:c.x-g.x,y:c.y-
g.y}}function s(a){for(var b=0,d=0;a.offsetParent;)b+=a.offsetLeft,d+=a.offsetTop,a=a.offsetParent;b+=a.offsetLeft;d+=a.offsetTop;return{x:b,y:d}}function n(a){zDragTableOnMouseMove(a);var h=c.getElementById("zOverEditDivTag");if(null!==h&&"block"===h.style.display){var m=Math.abs(zMousePosition.x+10-j),k=Math.abs(zMousePosition.y+10-g);if(300<m||300<k)h.style.display="none"}zMapMarkerRollOutV3(!1);a=a||b.event;zMousePosition=a=l(a);0<zMousePosition.x+zMousePosition.y&&(zHumanMovement=!0);if(zDrag_dragObject&&
(h=d[zDrag_dragObject.id],!("undefined"===typeof h||"undefined"===typeof h.boxObj)))return h=c.getElementById(h.boxObj),h=zGetAbsPosition(h),-1!==navigator.userAgent.indexOf("MSIE 6.0")?d[zDrag_dragObject.id].zValue+3===d[zDrag_dragObject.id].zValueValue?zDrag_dragObject.style.marginRight=(parseInt(h.width)-(a.x-p.x-h.x)-parseInt(zDrag_dragObject.style.width))/2+"px":zDrag_dragObject.style.marginLeft=(a.x-p.x-h.x)/2+"px":d[zDrag_dragObject.id].zValue+3===d[zDrag_dragObject.id].zValueValue?zDrag_dragObject.style.marginRight=
parseInt(h.width)-(a.x-p.x-h.x)-parseInt(zDrag_dragObject.style.width)+"px":zDrag_dragObject.style.marginLeft=Math.min(h.width,Math.max(0,a.x-p.x-h.x))+"px",d[zDrag_dragObject.id].callbackFunction(zDrag_dragObject,d[zDrag_dragObject.id]),!1}function q(){C||(C=!0,a("body").append('<div id="zOverEditDivTag" style="z-index:20001;  position:absolute; background-color:#FFFFFF; display:none; cursor:pointer; left:0px; top:0px; width:50px; height:27px; text-align:center; font-weight:bold; line-height:18px; "><a id="zOverEditATag" href="##" class="zNoContentTransition" target="_top" title="Click EDIT to edit this content">EDIT</a></div>'),
a("#zOverEditATag").bind("click",function(){if(zIsAdminLoggedIn())return q(),""!==m&&(b.top.location.href=m),!1}))}var d=[],p=null,o=[],m="",r="";g=j=0;var v="function"===typeof c.onmousemove?c.onmousemove:function(){};a(c).bind("mousemove",function(a){v(a);n(a)});var w="function"===typeof c.onmouseup?c.onmouseup:function(){};a(c).bind("mouseup",function(a){w(a);h(a)});var C=!1;a(".zOverEdit").bind("mouseover",function(){if(zIsAdminLoggedIn()){q();var b=a(this).attr("data-editurl");if(""!=b){var d=
c.getElementById("zOverEditDivTag");if(b!==r)r=b,c.getElementById(this),m=b,d.style.left=zMousePosition.x+10+"px",d.style.top=zMousePosition.y+10+"px",j=zMousePosition.x,g=zMousePosition.y,d.style.display="block";else{d.style.display="block";var h=Math.abs(zMousePosition.x+10-j),k=Math.abs(zMousePosition.y+10-g);70>=h&&70>=k||(c.getElementById(this),m=b,d.style.left=zMousePosition.x+10+"px",d.style.top=zMousePosition.y+10+"px",j=zMousePosition.x,g=zMousePosition.y)}}}});b.zMouseHitTest=function(a,
b){var d=zGetAbsPosition(a);"undefined"==typeof b&&(b=0);return d.x-b<=zMousePosition.x&&d.x+d.width+b>=zMousePosition.x&&d.y-b<=zMousePosition.y&&d.y+d.height+b>=zMousePosition.y?!0:!1};b.zDisableTextSelection=function(a){"undefined"!==typeof a.onselectstart?a.onselectstart=function(){return!1}:"undefined"!==typeof a.style.MozUserSelect?a.style.MozUserSelect="none":null===a.onmousedown&&(a.onmousedown=function(){return!1})};b.zEnableTextSelection=function(a){a.onmousedown=function(){return!0};a.onselectstart=
function(){return!0};a.style.MozUserSelect="text"};b.zDrag_addDropTarget=function(a){o.push(a)};b.zDrag_makeDraggable=function(a,b){a&&(d[a.id]=b,a.ondragstart=function(){return!1},a.onmousedown=function(a){zDrag_dragObject=this;p=k(this,a);return!1},b.callbackFunction(a,b))};b.zDrag_mouseMove=n;b.zDrag_getPosition=s;b.zDrag_getMouseOffset=k;b.zDrag_mouseUp=h;b.zDragTableOnMouseUp=function(){};b.zDrag_makeClickable=function(a){a.onmousedown=function(){zDrag_dragObject=this}};b.zDrag_mouseCoords=l})(jQuery,
window,document,"undefined");(function(a,b,c,j){b.zPagination=function(b){function c(){h(b.id,b.count,b.offset,b.perpage)}function h(c,h,j,l){var d=[],p=0,p=Math.min(Math.floor(2),b.offset/b.perpage),o=Math.min(Math.ceil(1E3/l),Math.ceil(h/l)),p=j-p*l,h=[];p!=j&&(d.push('<a href="##" class="zPagination-previousLink">Previous</a>'),h.push({selector:".zPagination-previousLink",offset:j-l}));for(var m=0;5>m;m++){var r=m*l+p,v=r/l+1;v<=o&&(v==o&&r+l==j?d.push('<span class="search-nav-t">'+v+"</span>"):r==j?d.push('<span class="search-nav-t">'+
v+"</span>"):(d.push('<a href="##" class="zPagination-link'+v+'">'+v+"</a>"),h.push({selector:".zPagination-link"+v,offset:r})))}o>=j/l&&(j+l)/l+1<=o&&(d.push('<a href="##" class="zPagination-nextLink">Next</a>'),h.push({selector:".zPagination-nextLink",offset:j+l}));j='<div style="width:100%; float:left" class="zPagination-container">'+d.join("")+"</div>";a("#"+c).html(j);for(m=0;m<h.length;m++)a(h[m].selector,"#"+c).unbind("click"),j=h[m],a(h[m].selector,"#"+c).attr("data-offset",j.offset),a(h[m].selector,
"#"+c).bind("click",function(){var d=parseInt(a(this).attr("data-offset"));b.offset=d;b.loadFunction(b);return false})}typeof b===j&&(b={});b.id=zso(b,"id");if(""==b.id)throw"zPagination: options.id is required";b.count=zso(b,"count");if(""===b.count)throw"zPagination: options.count is required";b.perpage=zso(b,"perpage",!0,20);b.offset=zso(b,"offset",!0,0);b.loadFunction=zso(b,"loadFunction",!1,function(){});if("function"!=typeof b.loadFunction)throw"zPagination: options.loadFunction is required and must be a function";
this.updatePerPage=function(a){b.perpage=a;c()};this.updateCount=function(a){b.count=a;c()};this.updateOffset=function(a){b.offset=a;c()};c()}})(jQuery,window,document,"undefined");var zScrollbarWidth=0;
(function(a,b,c){function j(a){var b,c,g,h;b=c=g=h=0;if(a.offsetParent){b=a.offsetLeft;c=a.offsetTop;g=a.offsetWidth;for(h=a.offsetHeight;!(a=a.offsetParent,"undefined"===typeof a||null===a);)b+=a.offsetLeft,c+=a.offsetTop}return[b,c,g,h]}function g(b){var d={x:0,y:0};if(b){d.x=b.offsetLeft;d.y=b.offsetTop;if(b.offsetParent){var c=g(b.offsetParent);d.x+=c.x;d.y+=c.y}d.cx=b.offsetWidth;d.cy=b.offsetHeight}d.width=d.cx;d.height=d.cy;b=a(b);d.innerWidth=b.innerWidth();d.innerHeight=b.innerHeight();return d}
function l(){if(-1!==s)return s;var a=c.createElement("p");a.style.width="100%";a.style.height="200px";var b=c.createElement("div");b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.visibility="hidden";b.style.width="200px";b.style.height="150px";b.style.overflow="hidden";b.appendChild(a);var g=c.documentElement||c.body;g.appendChild(b);var h=a.offsetWidth;b.style.overflow="scroll";a=a.offsetWidth;h===a&&(a=b.clientWidth);g.removeChild(b);return s=h-a}function h(b){var d=[];
a(b).height("auto");a(b).each(function(){""==this.parentNode.id&&(this.parentNode.id="zEqualHeightsParent"+n,n++);"undefined"==typeof d[this.parentNode.id]&&(d[this.parentNode.id]=0);var b=a(this).height();b>d[this.parentNode.id]&&(d[this.parentNode.id]=b)});a(b).each(function(){0==d[this.parentNode.id]&&(d[this.parentNode.id]="auto");a(this).height(d[this.parentNode.id])})}var k=!0,s=-1,n=0;zArrResizeFunctions.push({functionName:function(){var b=a(".zForceEqualHeights img"),d=b.length,c=0;b.each(function(){this.complete&&
c++});c!=d&&b.bind("load",function(){c++;c>d&&h(".zForceEqualHeights")});h(".zForceEqualHeights");0<a(".zForceEqualHeight").length&&console.log("The class name should be zForceEqualHeights, not zForceEqualHeight")}});b.zFindPosition=j;b.zGetAbsPosition=g;b.zScrollTop=function(c,d,g){if("undefined"===typeof c||"boolean"===typeof c)c="html, body";k&&("undefined"!==typeof g&&g?(a(c).animate({scrollTop:d},{duration:200,complete:function(){k=!0}}),k=!1):(a(b).scrollTop(d),k=!0))};b.zBoxHitTest=function(a,
b){var c=g(a),h=g(b);return h.x<=c.x+c.width&&h.x+h.width>=c.x&&h.y<=c.y+c.height&&h.y+h.height>=c.y?!0:!1};b.zJumpToId=function(a,b){var g=c.getElementById(a);if(null!==g){var g=j(g),h=-1<navigator.userAgent.toLowerCase().indexOf("webkit");if(!b||null===b)b=0;h?c.body.scrollTop=g[1]+b:c.documentElement.scrollTop=g[1]+b}};b.zGetScrollBarWidth=l;b.zGetClientWindowSize=function(){var a=0,d=0;if("number"===typeof b.innerWidth)a=b.innerWidth,d=b.innerHeight;else if(c.documentElement&&(c.documentElement.clientWidth||
c.documentElement.clientHeight))a=c.documentElement.clientWidth,d=c.documentElement.clientHeight;else if(c.body&&(c.body.clientWidth||c.body.clientHeight))a=c.body.clientWidth,d=c.body.clientHeight;0===zScrollbarWidth&&(zScrollbarWidth=l());return zWindowSize={width:a-zScrollbarWidth,height:d}}})(jQuery,window,document,"undefined");(function(a,b,c){function j(b){var d=parseInt(b.target.getAttribute("data-group-id"));a(".zSearchCriteriaSubGroup").each(function(){var b=parseInt(this.getAttribute("data-group-id"));"undefined"===typeof n[b]&&(n[b]={},n[b].open="block"===c.getElementById("zSearchCriteriaSubGroupContainer"+b).style.display?!0:!1);b===d&&(b!==d||n[b].open?(a("#zSearchCriteriaSubGroupContainer"+b).slideUp("fast"),n[b].open=!1,a("#zSearchCriteriaSubGroupToggle"+b).html("+")):(a("#zSearchCriteriaSubGroupContainer"+b).slideDown("fast"),
n[b].open=!0,a("#zSearchCriteriaSubGroupToggle"+b).html("-")))});return!1}function g(b){clearTimeout(q);var d=a("#zSearchResultsDiv");d.fadeIn("fast");b=eval("("+b+")");b.success?d.html(b.html):d.html(b.errorMessage);p||zJumpToId("zSearchTitleDiv",-20);p=!1}function l(d,h){"undefined"===typeof d&&(d=a("#zSearchTrackerGroupId").val());"undefined"===typeof h&&(h=a("#zSearchTrackerzIndex").val());var k={};a("#zSearchTrackerGroupId").val(d);a("#zSearchTrackerzIndex").val(h);k.id="ajaxGetSearchResults";
k.postObj=zGetFormDataByFormId("searchForm"+d);k.postObj.groupId=d;k.postObj.zIndex=h;k.postObj.disableSidebar=a("#zSearchFormDiv").attr("data-disable-sidebar");q=setTimeout(function(){a("#zSearchResultsDiv").html("One moment while we load your search results.")},500);0===d&&a("#zSearchTextInput").length&&(k.postObj.searchtext=a("#zSearchTextInput").val());k.method="post";k.url="/z/misc/search-site/ajaxGetPublicSearchResults";k.cache=!1;k.callback=g;k.ignoreOldRequests=!0;zAjax(k);c.getElementById("contenttop")?
b.location.href="#contenttop":(k=a("h1").first(),k.length?(""===k[0].id&&(k[0].id="zHeadingSearchTopLinkId"),b.location.href="#"+k[0].id):b.scrollTo(0,0))}function h(){a(".zSearchCriteriaSubGroup").bind("click",j);a(".zSearchCriteriaSubGroupToggle").bind("click",j);a(".zSearchCriteriaSubGroupLabel").bind("click",j)}function k(b){clearTimeout(d);var b=eval("("+b+")"),c=a("#zSearchFormDiv"),g=a("#zSearchTitleDiv");b.success?(g.html(b.title),c.html(b.html),h(),"0"===b.groupId&&""===a("#zSearchTextInput").val()||
l(b.groupId,b.zIndex)):c.html(b.errorMessage)}function s(b,c){"undefined"===typeof c&&(c=!1);a("#zSearchTrackerzIndex").val(1);a("#zSearchTabDiv a").each(function(){var d=parseInt(this.getAttribute("data-groupId"));b===d?a(this).addClass("zSearchTabDivSelected"):a(this).removeClass("zSearchTabDivSelected")});d=setTimeout(function(){a("#zSearchFormDiv").html("One moment while we load the search form.")},500);var g={id:"ajaxGetSearchCriteria"};g.url="/z/misc/search-site/ajaxGetPublicSearchCriteria?groupId="+
encodeURIComponent(b)+"&clearCache="+encodeURIComponent(c);0==b&&(g.url+="&searchtext="+encodeURIComponent(zGetURLParameter("searchtext")));g.cache=!1;g.callback=k;g.ignoreOldRequests=!0;zAjax(g)}var n=[],q=0,d=0,p=!1,o=0;b.getSearchCriteria=s;b.getSearchResults=l;b.getDelayedSearchResults=function(){a("#zSearchTrackerzIndex").val(1);clearTimeout(o);p=!0;o=setTimeout(l,500)};b.zSearchCriteriaSetupSubGroupButtons=h;b.reloadResultsIfBackDetected=function(){var b=a("#zSearchTrackerGroupId").val();""!==
b&&s(b)}})(jQuery,window,document,"undefined");var zHelpTooltip={};
(function(a,b,c){zHelpTooltip.arrTrack=[];zHelpTooltip.curId=!1;zHelpTooltip.curTimeoutId=!1;zHelpTooltip.helpDiv=!1;zHelpTooltip.helpInnerDiv=!1;zHelpTooltip.showTooltip=function(){clearTimeout(zHelpTooltip.curTimeoutId);zHelpTooltip.curTimeoutId=!1;zHelpTooltip.arrTrack[this.id].hovering=!1;var a=c.getElementById(this.id),a=zGetAbsPosition(a),b=getWindowSize();zHelpTooltip.helpDiv.style.display="block";zHelpTooltip.helpInnerDiv.innerHTML=zHelpTooltip.arrTrack[this.id].title;var l=zGetAbsPosition(zHelpTooltip.helpDiv);
zHelpTooltip.helpDiv.style.left=Math.min(b.width-l.width-10,a.x+a.width+5)+"px";zHelpTooltip.helpDiv.style.top=Math.max(10,a.y-l.height)+"px";return!1};zHelpTooltip.hoverOut=function(){clearTimeout(zHelpTooltip.curTimeoutId);zHelpTooltip.curTimeoutId=!1;zHelpTooltip.curId=!1;zHelpTooltip.arrTrack[this.id].hovering=!1;zHelpTooltip.helpDiv.style.display="none"};zHelpTooltip.hover=function(){clearTimeout(zHelpTooltip.curTimeoutId);zHelpTooltip.curTimeoutId=!1;zHelpTooltip.curId=this.id;zHelpTooltip.arrTrack[this.id].hovering?
(zHelpTooltip.arrTrack[this.id].hovering=!1,c.getElementById(zHelpTooltip.curId).onclick()):(zHelpTooltip.arrTrack[this.id].hovering=!0,zHelpTooltip.curTimeoutId=setTimeout(function(){c.getElementById(zHelpTooltip.curId).onmouseover()},1E3))};zHelpTooltip.setupHelpTooltip=function(){zHelpTooltip.helpDiv=c.getElementById("zHelpToolTipDiv");zHelpTooltip.helpInnerDiv=c.getElementById("zHelpToolTipInnerDiv");for(var a=zGetElementsByClassName("zHelpToolTip"),b=0;b<a.length;b++)""!=a[b].title&&(a[b].style.display=
"block",zHelpTooltip.arrTrack[a[b].id]={hovering:!1,title:a[b].title},a[b].title="",a[b].onmouseover=zHelpTooltip.hover,a[b].onmouseout=zHelpTooltip.hoverOut,a[b].ondragout=zHelpTooltip.hoverOut,a[b].onclick=zHelpTooltip.showTooltip)};zArrDeferredFunctions.push(function(){0==a("#zHelpToolTipDiv").length&&a(c.body).append('<div id="zHelpToolTipDiv"><div id="zHelpToolTipInnerDiv"></div></div>');zHelpTooltip.setupHelpTooltip()})})(jQuery,window,document,"undefined");(function(a,b,c){function j(){a(".zClickTrackDisplayValue").each(function(){null==this.getAttribute("data-zclickbindset")&&(a(this).attr("data-zclickbindset","1"),a(this).bind("click",g))});a(".zClickTrackDisplayURL").each(function(){null==this.getAttribute("data-zclickbindset")&&(a(this).attr("data-zclickbindset","1"),a(this).bind("click",l))})}function g(){var a=this.getAttribute("data-zclickpostvalue"),b=this.getAttribute("data-zclickeventcategory"),c=this.getAttribute("data-zclickeventlabel"),
g=this.getAttribute("data-zclickeventaction"),d=this.getAttribute("data-zclickeventvalue");h(b,g,c,d,"",!1);""!=a&&(this.parentNode.innerHTML=a);return!1}function l(){var a=this.getAttribute("data-zclickpostvalue"),b=this.getAttribute("data-zclickeventcategory"),c=this.getAttribute("data-zclickeventlabel"),g=this.getAttribute("data-zclickeventaction"),d=this.getAttribute("data-zclickeventvalue"),j=!1;"_blank"==this.target&&(j=!0);h(b,g,c,d,a,j);return"_blank"==this.target?!0:!1}function h(a,c,g,h,
d,j){if("undefined"!=typeof zVisitorTrackingDisabled)""!=d&&setTimeout(function(){j||(b.location.href=d)},100);else if("undefined"!=typeof b.GoogleAnalyticsObject){var o=b[b.GoogleAnalyticsObject];""!=d?""!=g?(console.log("track event 1:"+h),o("send","event",a,c,g,h,{hitCallback:function(){j||(b.location.href=d)}})):(console.log("track event 2:"+c),o("send","event",a,c,{hitCallback:function(){j||(b.location.href=d)}})):""!=g?(console.log("track event 3:"+h),o("send","event",a,c,g,h)):(console.log("track event 4:"+
c),o("send","event",a,c))}else if("undefined"!=typeof pageTracker&&"undefined"!=typeof pageTracker._trackPageview)""!=g?pageTracker._trackEvent(a,c,g,h):pageTracker._trackEvent(a,c),""!=d&&setTimeout(function(){j||(b.location.href=d)},500);else if("undefined"!=typeof _gaq&&"undefined"!=typeof _gaq.push)""!=d&&_gaq.push(["_set","hitCallback",function(){j||(b.location.href=d)}]),""!=g?_gaq.push(["_trackEvent",a,c,g,h]):_gaq.push(["_trackEvent",a,c]);else if(zIsLoggedIn())j||(b.location.href=d);else throw"Google analytics tracking code is not installed, or is using different syntax. Event tracking will not work until this is correct.";
}a(c).on("click","a",function(){var a=b.location.href,c=a.indexOf("/",9);if(-1==c)return!0;a=a.substr(0,c);c="";"undefined"!=typeof this.href&&(c=this.href);if(!(""==c||"#"==c.substr(0,1))&&this.href.substr(0,a.length)!=a){if("undefined"!=typeof this.target&&"_blank"==this.target)return h("outbound",c,"","",c,!0),!0;h("outbound",c,"","",c,!1);return!1}return!0});zArrLoadFunctions.push({functionName:j});b.zSetupClickTrackDisplay=j;b.zTrackEvent=h;b.zClickTrackDisplayURL=l;b.zClickTrackDisplayValue=
g;b.zSetupClickTrackDisplay=j})(jQuery,window,document,"undefined");var debugVideoLibrary=!1,arrVideoLibrary={},zVideoLibraryIntervalId=!1,arrCurVideo=[],arrQueueVideoMap=[],progressBarWidth=100,arrProgressVideo=[],videoSortingStarted=!1,videoSortingChanged=!1,currentVideoLibraryId="",arrVideoLibraryCaptions=[],zVideoJsEmbedded=!1,zVideoJsEmbedIndex=0;
(function(a,b,c){function j(a){a=eval("("+a+")");a.success?(c.getElementById("sortable").removeChild(arrVideoLibraryComplete[a.libraryId].NewLI),delete arrVideoLibraryComplete[a.libraryId]):alert("Failed to delete video.")}function g(a){a=eval("("+a+")");if(!1===a.success)alert("Failed to save video to database.");else{var b=arrQueueVideoMap[a.queue_id];arrVideoLibrary[b].width=a.video_width;arrVideoLibrary[b].height=a.video_height;arrVideoLibrary[b].video_id=a.video_id;c.getElementById("divprogressbar"+
b).style.display="none";arrVideoLibrary[b].divProgressBg.style.display="none";arrVideoLibrary[b].divProgressBg2.style.display="none";arrVideoLibrary[b].divProgressName.innerHTML+=' | <a href="#" onclick="showEmbedOptions(\''+b+'\'); return false;">Embed</a> | <a href="#" onclick="zDeleteVideo(\''+b+"'); return false;\">Delete</a>";arrVideoLibraryComplete[b]=arrVideoLibrary[b]}}function l(a){a.divVideoError=c.getElementById("divvideoerror"+a.id);a.divProgressName=c.getElementById("divprogressname"+
a.id);a.divProgress=c.getElementById("divprogress"+a.id);a.divProgressBg=c.getElementById("divprogressbg"+a.id);a.divProgressBg2=c.getElementById("divprogressbg2"+a.id)}function h(b){for(var c=eval("("+b+")"),h=[],k=0;k<c.arrVideos.length;k++){var b=c.arrVideos[k],j=arrVideoLibrary[arrQueueVideoMap[b.queue_id]];l(j);var n=new Date,q=100/Math.max(0.01,b.percent)*(n.getTime()-j.startEncodeDate.getTime());n.getTime();j.startEncodeDate.getTime();n=Math.round(Math.round(100*((q-(n.getTime()-j.startEncodeDate.getTime()))/
1E3))/100);2===b.status?j.divVideoError.innerHTML="There was an error encoding the video, please try again or contact the webmaster for assistance. Cause: "+b.errorMessage:100===b.percent?(b.previewImage?(a("#divprogressbar"+j.id).css("float","none"),j.divProgress.style.width="110px",j.divProgress.style.cssFloat="left",j.divProgress.innerHTML='<img src="/zupload/video/'+b.filename+'-00001.jpg" width="100" alt="Video" />',j.posterImage="/zupload/video/"+b.filename+"-00001.jpg"):(j.divProgress.innerHTML=
"Complete - Image Preview Not Available",j.posterImage=!1),a("#divprogress2_"+j.id).html("Encoding complete."),j.divProgressName.style.width="80%",j.divProgressName.style.cssFloat="left",j.videoFile="/zupload/video/"+b.filename,n={id:"zAjaxSaveQueueToVideo"},n.url="/z/_com/app/video-library?method=saveQueueToVideo&queue_id="+b.queue_id,n.cache=!1,n.callback=g,n.ignoreOldRequests=!1,zAjax(n)):(0===b.percent&&(n="Calculating"),a("#divprogress2_"+j.id).html("Encoding | Progress: "+b.percent+"% | Seconds remaining: "+
n));j.divProgressBg2.style.width=Math.round(b.percent/100*progressBarWidth)+"px";if(100>b.percent)for(j=0;j<arrProgressVideo.length;j++)if(arrProgressVideo[j]===parseInt(b.queue_id)){h.push(arrProgressVideo[j]);break}}arrProgressVideo=h;0===h.length&&!1!==zVideoLibraryIntervalId&&(clearInterval(zVideoLibraryIntervalId),zVideoLibraryIntervalId=!1)}function k(){var a={id:"zAjaxVideoEncodeProgress"};a.url="/z/_com/app/video-library?method=videoencodeprogress&queue_id_list="+arrProgressVideo.join(",");
a.cache=!1;a.callback=h;a.ignoreOldRequests=!1;zAjax(a)}function s(a){eval("("+a+")");for(var b in arrVideoLibrary)a=arrVideoLibrary[b],"undefined"===typeof a.video_id&&(c.getElementById("sortable").removeChild(a.NewLI),delete arrVideoLibrary[b]);!1!==zVideoLibraryIntervalId&&(clearInterval(zVideoLibraryIntervalId),zVideoLibraryIntervalId=!1);arrVideoLibrary=[];arrProgressVideo=[]}function n(){}function q(){c.getElementById("embedVideoDiv").innerHTML=""}b.zAjaxEncodeProgressCallback=h;b.zFixVideoObject=
l;b.zAjaxSaveQueueToVideoCallback=g;b.zDeleteVideo=function(a){var b=arrVideoLibraryComplete[a];if(!0===confirm("Are you sure you want to delete: "+b.name)){var c={id:"zAjaxDeleteVideo"};c.url="/z/_com/app/video-library?method=deleteVideo&video_id="+b.video_id+"&libraryid="+a;c.cache=!1;c.callback=j;c.ignoreOldRequests=!1;zAjax(c)}};b.zAjaxDeleteVideoCallback=j;b.generateEmbedCode=function(){var a=c.getElementById("video_embed_id").value,b=arrVideoLibraryComplete[a],g=c.getElementById("video_embed_width").value,
h=c.getElementById("video_embed_height").value,k=0;c.getElementById("video_embed_autoplay1").checked&&(k=1);c.getElementById("video_embed_viewing_method_name1").checked||c.getElementById("video_embed_viewing_method_name2");c.getElementById("embedCodeTr").style.display="block";a=c.getElementById("embedTextarea");!1===zVideoJsEmbedded&&(zVideoJsEmbedded=!0);zVideoJsEmbedIndex++;b.video_hash=b.videoFile.split("-")[1].substr(0,32);var j=0;1===k&&(j=1);b='<iframe src="'+zVideoJSDomain+"/z/misc/embed/video/"+
b.video_id+"-"+b.video_hash+"-"+g+"-"+h+"-"+j+'-0-0-0-0"  style="margin:0px; border:none; overflow:auto;" seamless="seamless" width="'+g+'" height="'+h+'"></iframe>';a.value=b;c.getElementById("embedVideoDiv").innerHTML=b};b.showEmbedOptions=function(a){var b=embedCode;zArrModalCloseFunctions.push(q);zShowModal(b,{width:Math.min(1920,zWindowSize.width-50),height:Math.min(1080,zWindowSize.height-50),maxWidth:1920,maxHeight:1080});c.getElementById("embedMenuDivTitle").innerHTML=arrVideoLibraryComplete[a].name;
c.getElementById("video_embed_id").value=a;c.getElementById("video_embed_width").value=arrVideoLibraryComplete[a].width;c.getElementById("video_embed_height").value=arrVideoLibraryComplete[a].height};b.videoModalClose=q;b.ajaxSaveVideo=function(b){debugVideoLibrary&&(c.getElementById("forvideodata").value+="ajaxSaveVideo(): video_id:"+b+"\n");b="/z/_com/app/video-library?method=saveVideoId&action=update&video_library_id="+currentVideoLibraryId+"&video_id="+b+"&video_caption="+escape(c.getElementById("caption"+
b).value);debugVideoLibrary&&(c.getElementById("forvideodata").value+="\n\n"+b+"\n\n");a.get(b,"",function(a){debugVideoLibrary&&(c.getElementById("forvideodata").value+="\n\nAJAX SAVE IMAGE RESULT:\n"+a+"\n")},"html")};b.keepSessionActive=function(){var a={id:"zKeepSessionActive",url:"/z/_com/app/video-library?method=videokeepsessionactive",cache:!1};a.callback=n;a.ignoreOldRequests=!1;zAjax(a)};b.zAjaxKeepSessionActiveCallback=n;b.zAjaxEncodeCancelCallback=s;b.zAjaxEncodeProgress=k;b.myUploadError=
function(){alert("Upload Cancelled")};b.myUploadSuccess=function(a,b){var c=eval("("+b+")"),g=arrCurVideo;arrCurVideo=[];for(var h=0;h<c.arrVideos.length;h++){var j=c.arrVideos[h];!1===j.success?alert(j.message):(arrProgressVideo.push(parseInt(j.queue_id)),arrQueueVideoMap[parseInt(j.queue_id)]=g[h],arrVideoLibrary[g[h]].startEncodeDate=new Date,arrVideoLibrary[g[h]].width=j.width,arrVideoLibrary[g[h]].height=j.height,arrVideoLibrary[g[h]].divProgressName.innerHTML=j.video_file)}clearInterval(zVideoLibraryIntervalId);
zVideoLibraryIntervalId=setInterval(function(){k()},1E3)};b.cancelEncoding=function(){if(0===arrProgressVideo.length)alert("No videos are currently being encoded.");else{var a={id:"zAjaxVideoEncodeCancel"};a.url="/z/_com/app/video-library?method=videoencodecancel&queue_id_list="+arrProgressVideo.join(",");a.cache=!1;a.callback=s;a.ignoreOldRequests=!1;zAjax(a)}}})(jQuery,window,document,"undefined");(function(a,b,c){function j(b){x?setTimeout(function(){j(b)},200):(C=b,w=n[C],d=0,clearTimeout(p),a.ajax({url:w,context:c.body,success:function(b){var c=0;0===o?(c=v,o=1):(c=r,o=0);c.html(b);m.fx="fade";a("#homePageListingCycleContainer").cycle("next");p=setTimeout(g,5E3)}}))}function g(){s(5)}function l(){x=!1}function h(a,b,c){c.fx="scrollLeft";m=c;x=!0}function k(b){var c=0,c=0===o?r:v;c.html(b);m.fx=z;m.speed=300;"scrollLeft"===z?a("#homePageListingCycleContainer").cycle("next"):a("#homePageListingCycleContainer").cycle("prev");
m.speed=1E3;p=setTimeout(g,5E3)}function s(a){0>d+a||d+a>=q||(o=0===o?1:0,clearTimeout(p),d+=a,z=0<a?"scrollLeft":"scrollRight",w=n[C],a={id:"listingSlidePanelAjax"},a.url=w+"&offset="+d,a.cache=!1,a.callback=k,a.ignoreOldRequests=!1,zAjax(a))}var n=[],q=0,d=0,p=0,o=0,m=0,r=0,v=0,w="",C=0,z="scrollLeft",x=!1;b.zSetupAjaxCycle=function(b,c){"undefined"!==typeof b&&(q=b,n=c,r=a("#sliderPanel0"),v=a("#sliderPanel1"),a("#listingslidernext").bind("click",function(){console.log("next:"+x);if(x)return!1;
s(5);return!1}),a("#listingsliderprev").bind("click",function(){if(x)return!1;s(-5);return!1}));a("#homePageListingCycleContainer").cycle({fx:"scrollLeft",timeout:0,pause:1,after:l,before:h});p=setTimeout(g,5E3)};b.zUpdateAjaxSlides=j})(jQuery,window,document);(function(a,b,c,j){b.zCart=function(b){function l(){var a=this.getAttribute("data-zcart-id"),b=parseInt(this.value);if(isNaN(b))return this.value=1,!1;h.updateQuantity(a,b);return!0}var h=this,k=!1,s=0,n=0,q=!1,d={},p={};typeof b===j&&(b={});b.arrData=zso(b,"arrData",!1,[]);b.viewCartCallback=zso(b,"viewCartCallback",!1,function(){});b.viewCartURL=zso(b,"viewCartURL",!1,"");b.debug=zso(b,"debug",!1,!1);b.name=zso(b,"name",!1,"");b.label=zso(b,"label",!1,"cart");b.emptyCartMessage=zso(b,"emptyCartMessage",
!1,"Nothing has been added to your cart.");b.selectedButtonText=zso(b,"selectedButtonText",!1,"Already in cart");b.checkoutCallback=zso(b,"checkoutCallback",!1,function(){h.checkout()});b.changeCallback=zso(b,"changeCallback",!1,function(){});h.viewCallback=function(a){b.viewCartCallback(a);k.slideToggle("fast")};h.view=function(){if(""!=b.viewCartURL){console.log("loading options.viewCartURL:"+b.viewCartURL);var a={id:"zCartView"};a.url=b.viewCartURL;a.callback=h.viewCallback;a.errorCallback=function(){alert("There was a problem loading the cart. Please try again later.")};
a.cache=!1;a.ignoreOldRequests=!0;zAjax(a)}else k.slideToggle("fast")};h.renderCount=function(){"function"===typeof b.countRenderCallback?b.countRenderCallback(n):a(".zcart-count."+b.name).html(n)};h.getItems=function(){return d};h.readCookie=function(){var a=zGetCookie("zcart-"+b.name);if(""!==a){a=a.split(",");b.debug&&console.log("From cookie:"+a.join(","));for(var c in a)if(""!==a[c]){var d=a[c].split("|");b.debug&&console.log("Added from cookie: "+b.arrData[d[0]].id);b.arrData[d[0]].quantity=
d[1];h.add(b.arrData[d[0]])}}};h.updateCookie=function(){var a=[],c;for(c in d)a.push(d[c].id+"|"+d[c].quantity);zSetCookie({key:"zcart-"+b.name,value:a.join(","),futureSeconds:31536E3,enableSubdomains:!1})};h.updateCount=function(){b.debug&&console.log("count is:"+n);0===n&&k.html(b.emptyCartMessage);h.updateCookie();h.renderCount();q&&(b.changeCallback(h),a(".zcart-count-container."+b.name).css({"background-color":"#000",color:"#FFF"}).animate({"background-color":"#FFF",color:"#000"},{duration:"slow",
easing:"easeInElastic"}))};h.getCount=function(){return n};h.add=function(j){if(zKeyExists(p,j.id))h.remove(j.id);else{a(".zcart-add."+b.name).each(function(){if(!a(this).hasClass("zcart-add-saved")){var b=eval("("+this.getAttribute("data-zcart-json")+")");j.id===b.id&&a(this).addClass("zcart-add-saved").html(b.removeHTML)}});s++;n++;b.debug&&console.log("Adding item #"+j.id+" to cart: "+b.name+" with quantity="+j.quantity);var m=h.renderItem(j,s);1===n?k.html(m):k.append(m);a("#"+b.name+"zcart-item-delete-link"+
s).bind("click",function(){var a=this.getAttribute("data-zcart-id");h.remove(a);return!1});a("#"+b.name+"zcart-item"+s).hide().fadeIn("fast");a(".zcart-item-quantity-input[data-zcart-id='"+j.id+"']").bind("keyup paste blur",l);j.cartId=s;j.div=c.getElementById(b.name+"zcart-item"+s);d[s]=j;p[j.id]=s;h.updateCount()}};h.updateQuantity=function(a,b){zKeyExists(p,a)&&(d[p[a]].quantity=b)};h.remove=function(c){if(zKeyExists(p,c)){var j=p[c];b.debug&&console.log("Removing item #"+c+" to cart: "+b.name);
delete d[j];delete p[c];a(".zcart-add."+b.name).each(function(){if(a(this).hasClass("zcart-add-saved")){var b=eval("("+this.getAttribute("data-zcart-json")+")");c===b.id&&a(this).removeClass("zcart-add-saved").html(b.addHTML)}});a("#"+b.name+"zcart-item"+j).fadeOut("fast",function(){a("#"+b.name+"zcart-item"+j).remove()});n--;h.updateCount()}};h.replaceTags=function(a,b){for(var c in b)a=a.replace(RegExp("{"+c+"}","gm"),zHtmlEditFormat(b[c]));return a};h.renderItem=function(c,d){var j=a(".zcart-templates .zcart-item");
if(0===j.length)throw".zcart-template .zcart-item template is missing and it's required.";var j=j[0].outerHTML,k={},l;for(l in c)k[l]=c[l];k.itemId=b.name+"zcart-item"+d;k.deleteId=b.name+"zcart-item-delete-link"+d;j=a(h.replaceTags(j,k));a(".zcart-item-image",j).each(function(){var a=this.getAttribute("data-image");""!==a&&this.setAttribute("src",a)});a("a",j).each(function(){this.href=this.getAttribute("data-url")});j.addClass(b.name);return j[0].outerHTML};h.renderItems=function(){var a=[],b;for(b in d)a.push(h.renderItem(d[b],
d[b].cartId));k.html(a).hide().fadeIn("fast");h.updateCount()};h.ajaxAddCallback=function(){};h.ajaxAdd=function(){};h.clear=function(){d=[];p=[];s=n=0;a(".zcart-add."+b.name).each(function(){if(a(this).hasClass("zcart-add-saved")){var b=eval("("+this.getAttribute("data-zcart-json")+")");a(this).removeClass("zcart-add-saved").html(b.addHTML)}});a(".zcart-item."+b.name).fadeOut("fast",function(){0===a(".zcart-item."+b.name+":animated").length&&(k.html(""),h.updateCount())})};h.checkout=function(){"function"===
typeof b.checkoutCallback?b.checkoutCallback(h):b.debug&&console.log("No checkout callback defined.")};(function(b){k=a(".zcart."+b.name);if(0===k.length)throw b.name+" is not defined.  zCart requires a valid object or selector for the cart items to be rendered in.";a(".zcart-add."+b.name).bind("click",function(){var b=eval("("+this.getAttribute("data-zcart-json")+")"),c=a(".zcart-quantity[data-zcart-item-id='"+b.id+"']");c.length?(b.quantity=parseInt(c.val()),isNaN(b.quantity)&&(b.quantity=1)):b.quantity=
1;h.add(b);return!1}).each(function(){var b=eval("("+this.getAttribute("data-zcart-json")+")");this.setAttribute("data-zcart-id",b.id);zKeyExists(p,b.id)&&(a(this).addClass("zcart-add-saved"),a(this).html(b.removeHTML))});a(".zcart-item-quantity-input").bind("keyup paste blur",l);a(".zcart-remove."+b.name).bind("click",function(){var a=this.getAttribute("data-zcart-id");h.remove(a);return!1});a(".zcart-refresh."+b.name).bind("click",function(){h.renderItems();return!1});a(".zcart-view."+b.name).bind("click",
function(){a(this).hasClass("zcart-view-open")?(a(this).removeClass("zcart-view-open"),a(this).html(this.getAttribute("data-zcart-viewHTML"))):(a(this).addClass("zcart-view-open"),a(this).html(this.getAttribute("data-zcart-hideHTML")));h.view();return!1});a(".zcart-checkout."+b.name).bind("click",function(){h.checkout();return!1});a(".zcart-clear."+b.name).bind("click",function(){h.clear();return!1});h.readCookie();h.updateCount();q=!0})(b);return this}})(jQuery,window,document,"undefined");(function(a,b,c,j){b.zRecurringEvent=function(c){var l=this,h="Daily",k=0,s=[],n=0,q=[],d=!1,p={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6,Day:-1},o={1:"The First",2:"The Second",3:"The Third",4:"The Fourth",5:"The Fifth","-1":"The Last"},m={"The First":1,"The Second":2,"The Third":3,"The Fourth":4,"The Fifth":5,"The Last":-1},r={6:0,"0":1,1:2,2:3,3:4,4:5,5:6},v={6:"SU","0":"MO",1:"TU",2:"WE",3:"TH",4:"FR",5:"SA"},w={"0":6,1:0,2:1,3:2,4:3,5:4,6:5},C={6:"Sunday","0":"Monday",
1:"Tuesday",2:"Wednesday",3:"Thursday",4:"Friday",5:"Saturday"},z={Sunday:6,Monday:0,Tuesday:1,Wednesday:2,Thursday:3,Friday:4,Saturday:5};typeof c===j&&(c={});var x="January February March April May June July August September October November December".split(" ");c.ruleObj=zso(c,"ruleObj",!1,{});c.arrExclude=zso(c,"arrExclude",!1,[]);c.renderingEnabled=zso(c,"renderingEnabled",!1,!0);l.updateState=function(){if(d)return!1;var c=l.getRulesFromForm(),c=l.convertFromRecurringEventToRRule(c);q=l.getMarkedDates();
var g=[],h;for(h in q){var j=new Date;j.setTime(h);var k=j.getMonth()+1;10>k&&(k="0"+k);var m=j.getDate();10>m&&(m="0"+m);g.push(j.getFullYear()+"-"+k+"-"+m)}console.log("['"+g.join("','")+"']");if(a("#event_recur_ical_rules",b.parent.document).length){g=c.toString();a("#event_recur_ical_rules",b.parent.document).val(g);k=[];for(h in s)j=new Date,j.setTime(h),j=j.getMonth()+1+"/"+j.getDate()+"/"+j.getFullYear(),-1==j.indexOf("NaN")&&k.push(j);a("#event_excluded_date_list",b.parent.document).val(k.join(","));
"None"==a("#zRecurTypeSelect").val()?a("#recurringConfig1",b.parent.document).html("No"):(a("#recurringConfig1",b.parent.document).html("Yes"),h={id:"zRecurAsPlainEnglish"},h.url="/z/_com/ical/ical?method=getIcalRuleAsPlainEnglishAsJson&rule="+escape(g),h.callback=function(c){c=eval("("+c+")");c.success&&a("#recurringConfig1",b.parent.document).html("Yes | "+c.string)},h.cache=!1,zAjax(h));a("#zRecurTypeRangeRadio3")[0].checked?a("#event_recur_until_datetime",b.parent.document).val(a("#zRecurTypeRangeDate").val()):
a("#event_recur_until_datetime",b.parent.document).val("");null!=c.options.count?a("#event_recur_count",b.parent.document).val(c.options.count):a("#event_recur_count",b.parent.document).val(0);null!=c.options.interval?a("#event_recur_interval",b.parent.document).val(c.options.interval):a("#event_recur_interval",b.parent.document).val(1);null!=c.options.freq?a("#event_recur_frequency",b.parent.document).val(c.options.freq):a("#event_recur_frequency",b.parent.document).val(1)}};l.buildMonthlyCalendar=
function(){var b=[];b.push('<div style="width:100%; float:left;">');for(var c=1;31>=c;c++)b.push('<span class="zRecurDayButton" style="width:36px;margin-bottom:3px;"><span style="width:15px; float:left;"><input type="checkbox" name="zRecurTypeMonthlyCalendarDay" class="zRecurTypeMonthlyCalendarDay" id="zRecurTypeMonthlyCalendarDay'+c+'" value="'+c+'" /></span> <label for="zRecurTypeMonthlyCalendarDay'+c+'" style="display:block; float:left;width:21px;">'+c+"</label></span></span>"),0==c%7&&b.push('</div><div style="width:100%; float:left;">');
b.push('<span class="zRecurDayButton" style="width:70px;margin-bottom:3px;"><span style="width:15px;display:block; float:left;"><input type="checkbox" name="zRecurTypeMonthlyCalendarDay" class="zRecurTypeMonthlyCalendarDay" id="zRecurTypeMonthlyCalendarDay0" value="0" /></span> <label for="zRecurTypeMonthlyCalendarDay0" style="display:block; float:left;width:52px;">Last Day</label></span></span>');b.push("</div>");a("#zRecurTypeMonthlyCalendar").html(b.join(""))};l.drawPreviewCalendars=function(){l.updateState();
if(c.renderingEnabled){var b=a("#zRecurPreviewCalendars"),d=[],h=0;n=Math.floor(a(".zRecurPreviewBox").width()/160);var j=a("#event_start_datetime_date").val();if(""!=j){try{var k=new Date(Date.parse(j))}catch(m){return}for(j=0;3>j;j++){d.push('<div style="width:100%; float:left;">');for(var o=0;o<n;o++){var p=new Date(k.getTime());p.setDate(1);p.setMonth(p.getMonth()+h);p.setDate(1);d.push('<div class="zRecurCalendarContainer">'+l.buildCalendarHTML(p)+"</div>");h++}d.push("</div>")}b.html(d.join(""));
a(".zRecurCalendarDayMarked").bind("click",function(){var b=a(this).hasClass("zRecurCalendarDayExcluded"),c=new Date(parseInt(a(this).attr("data-date")));""!=b?(l.removeExcludedDate(c),a(this).removeClass("zRecurCalendarDayExcluded")):(l.addExcludeDate(c),a(this).addClass("zRecurCalendarDayExcluded"))})}}};l.buildCalendarHTML=function(a){var b=['<div class="zRecurCalendarMonth">'+(x[a.getMonth()]+" "+a.getFullYear())+'</div><div class="zRecurCalendar">'];b.push('<div class="zRecurCalendarDayLabels">');
b.push('<div class="zRecurCalendarDayLabel">Su</div>');b.push('<div class="zRecurCalendarDayLabel">Mo</div>');b.push('<div class="zRecurCalendarDayLabel">Tu</div>');b.push('<div class="zRecurCalendarDayLabel">We</div>');b.push('<div class="zRecurCalendarDayLabel">Th</div>');b.push('<div class="zRecurCalendarDayLabel">Fr</div>');b.push('<div class="zRecurCalendarDayLabel">Sa</div>');b.push("</div>");a.getMonth();var c=a.getDay(),d=a.getMonth();a.setDate(a.getDate()-c);for(c=0;6>c;c++){b.push('<div class="zRecurCalendarWeek">');
for(var g=0;7>g;g++){var h=a.getMonth(),j=a.getDate();h!=d?b.push('<div class="zRecurCalendarDayOtherMonth">'+j+"</div>"):(h="","undefined"!=typeof q[a.getTime()]&&(h+=" zRecurCalendarDayMarked","undefined"!=typeof s[a.getTime()]&&(h+=" zRecurCalendarDayExcluded")),a.getMonth(),a.getDate(),a.getFullYear(),b.push('<div class="zRecurCalendarDay'+h+'" id="zRecurCalendarDay'+a.getTime()+'" data-date="'+a.getTime()+'">'+j+"</div>"));a.setDate(a.getDate()+1)}b.push("</div>")}b.push("</div>");return b.join("")};
l.addExcludeDate=function(a){s[a.getTime()]=a;l.drawExcludedDates()};l.removeExcludedDate=function(a){var b=[],a=a.getTime(),c;for(c in s)c!=a&&(b[c]=s[c]);s=b;l.drawExcludedDates()};l.drawExcludedDates=function(){var b=[],c;for(c in s)b.push(parseInt(c));b.sort();var d=[];for(c=0;c<b.length;c++){var g=new Date(b[c]),h=g.getMonth()+1+"/"+g.getDate()+"/"+g.getFullYear();d.push('<div class="zRecurExcludedDay" data-date="'+g.getTime()+'"><div class="zRecurExcludedDayText">'+h+'</div><div class="zRecurExcludedDayDeleteButton">X</div></div>')}0==
b.length&&d.push("No dates are excluded");a("#zRecurExcludedDates").html(d.join(""));a(".zRecurExcludedDay").bind("click",function(){var b=new Date(parseInt(a(this).attr("data-date")));l.removeExcludedDate(b);a("#zRecurCalendarDay"+b.getTime()).removeClass("zRecurCalendarDayExcluded");return!1});l.drawPreviewCalendars()};l.setFormFromRules=function(b,c){var g={recurType:"None",noEndDate:!1,everyWeekday:!1,skipDays:1,recurLimit:0,endDate:!1,skipWeeks:1,skipMonths:1,skipYears:1,arrWeeklyDays:[],monthlyWhich:"",
monthlyDay:"",arrMonthlyCalendarDay:[],annuallyWhich:"",annuallyDay:"",annuallyMonth:""},h;for(h in g)"undefined"==typeof b[h]&&(b[h]=g[h]);d=!0;a("#zRecurTypeSelect").val(b.recurType);a("#zRecurTypeSelect").trigger("change");if("Daily"==b.recurType)b.everyWeekday?(a("#zRecurTypeDailyRadio2").prop("checked",!0),b.everyWeekday=!0):(a("#zRecurTypeDailyRadio1").prop("checked",!0),a("#zRecurTypeDailyDays").val(b.skipDays));else if("Weekly"==b.recurType){a("#zRecurTypeWeeklyWeeks").val(b.skipWeeks);var j=
[];for(h=0;h<b.arrWeeklyDays.length;h++)j[b.arrWeeklyDays[h]]=!0;a(".zRecurTypeWeeklyDay").each(function(){this.checked="undefined"!=typeof j[this.value]?!0:!1})}else if("Monthly"==b.recurType)if(a("#zRecurTypeMonthlyDays").val(b.skipMonths),0==b.arrMonthlyCalendarDay.length)a("#zRecurTypeMonthlyType1").prop("checked",!0),a("#zRecurTypeMonthlyWhich").val(b.monthlyWhich),a("#zRecurTypeMonthlyDay").val(b.monthlyDay);else{a("#zRecurTypeMonthlyType2").prop("checked",!0);j=[];for(h=0;h<b.arrMonthlyCalendarDay.length;h++)j[b.arrMonthlyCalendarDay[h]]=
!0;a(".zRecurTypeMonthlyCalendarDay").each(function(){this.checked="undefined"!=typeof j[this.value]?!0:!1})}else"Annually"==b.recurType&&(a("#zRecurTypeAnnuallyDays").val(b.skipYears),""==b.annuallyDay?(a("#zRecurTypeAnnuallyType1").prop("checked",!0),a("#zRecurTypeAnnuallyWhich").val(b.annuallyWhich),a("#zRecurTypeAnnuallyMonth").val(b.annuallyMonth)):(a("#zRecurTypeAnnuallyType2").prop("checked",!0),a("#zRecurTypeAnnuallyWhich2").val(b.annuallyWhich),a("#zRecurTypeAnnuallyDay2").val(b.annuallyDay),
a("#zRecurTypeAnnuallyMonth2").val(b.annuallyMonth)));"boolean"!=typeof b.endDate?(a("#zRecurTypeRangeRadio3").prop("checked",!0),""!=b.endDate&&(b.endDate=new Date(Date.parse(b.endDate)),g=b.endDate.getMonth()+1+"/"+b.endDate.getDate()+"/"+b.endDate.getFullYear(),a("#zRecurTypeRangeDate").val(g))):0!=b.recurLimit&&null!=b.recurLimit?(a("#zRecurTypeRangeDays").val(b.recurLimit),a("#zRecurTypeRangeRadio2").prop("checked",!0)):a("#zRecurTypeRangeRadio1").prop("checked",!0);d=!1;"undefined"==typeof c&&
(c=!1);c||(q=l.getMarkedDates(),l.drawPreviewCalendars())};l.getRulesFromForm=function(){var b={recurType:"Daily",noEndDate:!1,everyWeekday:!1,skipDays:1,recurLimit:0,endDate:!1,skipWeeks:1,skipMonths:1,skipYears:1,arrWeeklyDays:[],monthlyWhich:"",monthlyDay:"",arrMonthlyCalendarDay:[],annuallyWhich:"",annuallyDay:"",annuallyMonth:""};b.recurType=a("#zRecurTypeSelect").val();if("Daily"==b.recurType)if(a("#zRecurTypeDailyRadio1").prop("checked"))try{b.skipDays=parseInt(a("#zRecurTypeDailyDays").val()),
isNaN(b.skipDays)&&(alert("Interval must be a number"),a("#zRecurTypeDailyDays").val("1"),b.skipDays=1)}catch(c){alert("X must be a valid number for the Every X Day(s) field."),a("#zRecurTypeDailyDays").val(1)}else a("#zRecurTypeDailyRadio2").prop("checked")&&(b.everyWeekday=!0);else if("Weekly"==b.recurType){try{b.skipWeeks=parseInt(a("#zRecurTypeWeeklyWeeks").val()),isNaN(b.skipWeeks)&&(alert("Interval must be a number"),a("#zRecurTypeWeeklyWeeks").val("1"),b.skipWeeks=1)}catch(d){alert("X must be a valid number for the Every X Week(s) field."),
a("#zRecurTypeWeeklyWeeks").val(1)}a(".zRecurTypeWeeklyDay").each(function(){this.checked&&b.arrWeeklyDays.push(this.value)})}else if("Monthly"==b.recurType){try{b.skipMonths=parseInt(a("#zRecurTypeMonthlyDays").val()),isNaN(b.skipMonths)&&(alert("Interval must be a number"),a("#zRecurTypeMonthlyDays").val("1"),b.skipMonths=1)}catch(g){alert("X must be a valid number for the Every X Month(s) field."),a("#zRecurTypeMonthlyDays").val(1)}a("#zRecurTypeMonthlyType1").prop("checked")?(b.monthlyWhich=a("#zRecurTypeMonthlyWhich").val(),
b.monthlyDay=a("#zRecurTypeMonthlyDay").val()):a("#zRecurTypeMonthlyType2").prop("checked")&&a(".zRecurTypeMonthlyCalendarDay").each(function(){this.checked&&b.arrMonthlyCalendarDay.push(parseInt(this.value))})}else if("Annually"==b.recurType){try{b.skipYears=parseInt(a("#zRecurTypeAnnuallyDays").val()),isNaN(b.skipYears)&&(alert("Interval must be a number"),a("#zRecurTypeAnnuallyDays").val("1"),b.skipYears=1)}catch(h){alert("X must be a valid number for the Every X Year(s) field."),a("#zRecurTypeAnnuallyDays").val(1)}a("#zRecurTypeAnnuallyType1").prop("checked")?
(b.annuallyWhich=a("#zRecurTypeAnnuallyWhich").val(),b.annuallyMonth=a("#zRecurTypeAnnuallyMonth").val()):a("#zRecurTypeAnnuallyType2").prop("checked")&&(b.annuallyWhich=a("#zRecurTypeAnnuallyWhich2").val(),b.annuallyDay=a("#zRecurTypeAnnuallyDay2").val(),b.annuallyMonth=a("#zRecurTypeAnnuallyMonth2").val())}if(!a("#zRecurTypeRangeRadio1").prop("checked"))if(a("#zRecurTypeRangeRadio2").prop("checked"))try{b.recurLimit=parseInt(a("#zRecurTypeRangeDays").val())}catch(j){}else if(a("#zRecurTypeRangeRadio3").prop("checked")){var k=
a("#zRecurTypeRangeDate").val();if(""!=k)try{b.endDate=new Date(Date.parse(k))}catch(l){alert("Invalid end date"),a("#zRecurTypeRangeDate").val("")}}return b};l.getDaysInMonth=function(a){a=new Date(a.getTime());a.setMonth(a.getMonth()+1);a.setDate(0);return a.getDate()};l.getProjectedDateCount=function(b){var c=a("#zRecurTypeRangeDate").val(),d=new Date;if(""!=c)try{d=new Date(Date.parse(c))}catch(g){alert("Invalid end date"),d=new Date}c=new Date(b.getTime());c.setFullYear(c.getFullYear()+2);d>
c&&(c=d);d=(c-b)/864E5;console.log("Project "+d+" days | startDate:"+b.toString()+" | endDate:"+c.toString());return d};l.lastDayOfWeekOfMonth=function(a,b){var c=a.getMonth(),d=a.getFullYear(),c=new Date(d,c+1,0);if(-1==b)return c;for(;c.getDay()!=b;)c.setDate(c.getDate()-1);return c};l.isNthDay=function(a,b,c){return Math.ceil(a.getDate()/7)==c&&a.getDay()==b?!0:!1};l.getMarkedDates=function(){var b=[],c=a("#event_start_datetime_date").val();if(""==c)return b;try{var d=new Date(Date.parse(c))}catch(g){return b}var h=
d.getTime(),j=l.getRulesFromForm();if(0!=j.recurLimit){var k=5E4;console.log("Project "+k+" days | startDate:"+c.toString())}else k=l.getProjectedDateCount(d);var c=[],n=0,o=new Date(d.getTime());o.setDate(o.getDate()+k);for(var o=o.getTime(),r={"0":!1,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1},q=0;q<j.arrWeeklyDays.length;q++)r[j.arrWeeklyDays[q]]=!0;for(var s=[],q=0;q<j.arrMonthlyCalendarDay.length;q++)s[j.arrMonthlyCalendarDay[q]]=!0;for(var v=0,w=-1,z=0,x=0,B=!0,C=0,D=!0,A=d.getFullYear(),t=!0,q=0;q<k;q++){if(5E4==
q){alert("Infinite loop detected");break}!t&&("Daily"==j.recurType&&j.skipDays-1)&&d.setDate(d.getDate()+(j.skipDays-1));!D&&"Weekly"==j.recurType&&0==d.getDay()&&j.skipWeeks-1&&d.setDate(d.getDate()+7*(j.skipWeeks-1));if(w!=d.getMonth()){C++;"Monthly"==j.recurType?(!B&&(1==d.getDate()&&j.skipMonths-1)&&d.setMonth(d.getMonth()+(j.skipMonths-1)),B=!1):"Annually"==j.recurType&&(d.getFullYear()!=A&&j.skipYears-1)&&(d.setFullYear(d.getFullYear()+(j.skipYears-1)),A=d.getFullYear());v=0;w=d.getMonth();
x=new Date(d);x.setMonth(x.getMonth()+1);x.setDate(0);var P=x.getTime();""!=j.monthlyDay&&(z=l.lastDayOfWeekOfMonth(d,p[j.monthlyDay]));""!=j.annuallyDay&&(z=l.lastDayOfWeekOfMonth(d,p[j.annuallyDay]))}var x=d.getDay(),Q=new Date(d.getTime()),I=d.getTime(),F=!1;if(!j.noEndDate&&"boolean"!=typeof j.endDate&&I>j.endDate.getTime())break;if("Daily"==j.recurType)j.everyWeekday?0!=x&&6!=x&&(F=!0):F=!0;else if("Weekly"==j.recurType)r[x]&&(F=!0);else if("Monthly"==j.recurType)if(j.arrMonthlyCalendarDay.length)"undefined"!=
typeof s[0]&&I==P&&(F=!0),"undefined"!=typeof s[d.getDate()]&&(F=!0);else{if(""!=j.monthlyDay){var H=!1;"Day"==j.monthlyDay?(v++,H=!0):x==p[j.monthlyDay]&&(v++,H=!0);"Every"==j.monthlyWhich?H&&(F=!0):"The Last"==j.monthlyWhich?H&&d.getDate()==z.getDate()&&(F=!0):"Day"==j.monthlyDay?d.getDate()==m[j.monthlyWhich]&&(F=!0):H&&l.isNthDay(d,x,m[j.monthlyWhich])&&(F=!0)}}else"Annually"==j.recurType&&d.getMonth()==j.annuallyMonth&&(""!=j.annuallyDay?(H=!1,"Day"==j.annuallyDay?(v++,H=!0):x==p[j.annuallyDay]&&
(v++,H=!0),"Every"==j.annuallyWhich?H&&(F=!0):"The Last"==j.annuallyWhich?H&&d.getDate()==z.getDate()&&(F=!0):"Day"==j.annuallyDay?d.getDate()==m[j.annuallyWhich]&&(F=!0):H&&l.isNthDay(d,x,m[j.annuallyWhich])&&(F=!0)):j.annuallyWhich==d.getDate()&&(F=!0));I==h&&(F||n--,F=!0);d.setDate(d.getDate()+1);F&&(I>=h&&I<=o)&&(b[I]=!0,c.push(Q.toGMTString()),n++,D=t=!1);if(0!=j.recurLimit&&n==j.recurLimit)break}return b};l.convertFromRRuleToRecurringEvent=function(a){var b=RRule.fromString(a),c=b.options;console.log(b);
console.log(b.toString());null==c.byeaster&&(c.byeaster=[]);null==c.byhour&&(c.byhour=[]);null==c.byminute&&(c.byminute=[]);null==c.bymonth&&(c.bymonth=[]);null==c.bymonthday&&(c.bymonthday=[]);null==c.bynmonthday&&(c.bynmonthday=[]);null==c.bynweekday&&(c.bynweekday=[]);null==c.bysecond&&(c.bysecond=[]);null==c.bysetpos&&(c.bysetpos=[]);null==c.byweekday&&(c.byweekday=[]);null==c.byweekno&&(c.byweekno=[]);null==c.byyearday&&(c.byyearday=[]);if(1<c.bymonth.length||1<c.bynweekday.length||0<c.byeaster.length||
1<c.bynmonthday.length||0<c.bysetpos.length)throw console.log(c),"Unsupported RRule: "+a;b={};b.recurLimit=c.count;"undefined"!=typeof c.until&&(null!=c.until&&""!=c.until)&&(b.endDate=c.until,b.recurLimit=0);if(c.freq==RRule.YEARLY){b.recurType="Annually";if(c.bynweekday.length){if("undefined"==typeof C[c.bynweekday[0][0]])return alert("Invalid bynweekday value."),[];b.annuallyDay=C[c.bynweekday[0][0]];if(-1==c.bynweekday[0][1])b.annuallyWhich="The Last";else{if(0>c.bynweekday[0][1])throw"Unsupported RRule: "+
a;b.annuallyWhich=o[c.bynweekday[0][1]]}}else if(c.byweekday.length){if("undefined"==typeof C[c.byweekday[0]])return alert("Invalid byweekday value."),[];b.annuallyWhich="Every";b.annuallyDay=C[c.byweekday[0]];if(7==c.byweekday.length)b.annuallyDay="Day";else if(1<c.byweekday.length)throw"Unsupported RRule: "+a;}else{if(c.byyearday.length)throw"RRULE BYYEARDAY is not implemented in zRecurringEvent";if(c.bymonthday.length)b.annuallyWhich=c.bymonthday[0];else if(c.bynmonthday.length)b.annuallyDay="Day",
b.annuallyWhich="The Last";else throw"Unsupported RRule: "+a;}b.skipYears=c.interval;b.annuallyMonth=c.bymonth[0]}else if(c.freq==RRule.MONTHLY)if(b.recurType="Monthly",b.skipMonths=c.interval,c.bynweekday.length){if("undefined"==typeof C[c.bynweekday[0][0]])return alert("Invalid bynweekday value."),[];b.monthlyDay=C[c.bynweekday[0][0]];if(-1==c.bynweekday[0][1])b.monthlyWhich="The Last";else{if(0>c.bynweekday[0][1])throw"Unsupported RRule: "+a;b.monthlyWhich=o[c.bynweekday[0][1]]}console.log("day lookup:"+
c.bynweekday[0][0]+":"+C[1]+" python:"+C[c.bynweekday[0][0]]+" final day:"+b.monthlyDay)}else if(c.byweekday.length){if("undefined"==typeof C[c.byweekday[0]])return alert("Invalid byweekday value."),[];b.monthlyWhich="Every";b.monthlyDay=C[c.byweekday[0]];if(7==c.byweekday.length)b.monthlyDay="Day";else if(1<c.byweekday.length)throw"Unsupported RRule: "+a;if(c.bymonthday.length)throw"Unsupported RRule (bymonthday is missing from monthly interface in zRecurringEvent): "+a;}else if(c.bymonthday.length)b.arrMonthlyCalendarDay=
c.bymonthday;else if(c.bynmonthday.length)b.monthlyDay="Day",b.monthlyWhich="The Last";else throw"Unsupported RRule: "+a;else if(c.freq==RRule.WEEKLY)if(b.recurType="Weekly",b.skipWeeks=c.interval,c.byweekday.length){b.arrWeeklyDays=[];for(var d=0;d<c.byweekday.length;d++)b.arrWeeklyDays.push(r[c.byweekday[d]])}else throw"Unsupported RRule: "+a;else if(c.freq==RRule.DAILY)if(b.recurType="Daily",c.byweekday.length){if(5!=c.byweekday.length)throw"Unsupported RRule: "+a;for(d=0;d<c.byweekday.length;d++)if(6==
c.byweekday[d]||5==c.byweekday[d])throw"Unsupported RRule: "+a;b.everyWeekday=!0;b.skipDays=1}else b.skipDays=c.interval;else{if(c.freq==RRule.HOURLY)throw"FREQ=HOURLY is not implemented in zRecurringEvent";if(c.freq==RRule.MINUTELY)throw"FREQ=MINUTELY is not implemented in zRecurringEvent";if(c.freq==RRule.SECONDLY)throw"FREQ=SECONDLY is not implemented in zRecurringEvent";}return b};l.convertFromRecurringEventToRRule=function(a){var b={byeaster:[],byhour:[],byminute:[],bymonth:[],bymonthday:[],
bynmonthday:[],bynweekday:[],bysecond:[],bysetpos:[],byweekday:[],byweekno:[],byyearday:[],count:0,dtstart:null,freq:0,interval:1,until:null};b.until="undefined"!=typeof a.endDate&&""!=a.endDate&&!1!=a.endDate&&null!=a.endDate?a.endDate:null;"undefined"!=typeof a.recurLimit&&(b.count=a.recurLimit);if("None"==a.recurType)return a=new RRule({}),console.log(a),console.log(a.toString()),a;if("Annually"==a.recurType)b.freq=RRule.YEARLY,""!=a.annuallyDay&&""!=a.annuallyWhich&&"Every"!=a.annuallyWhich?"Day"==
a.annuallyDay?b.bymonthday[0]=m[a.annuallyWhich]:(b.byweekday[0]=z[a.annuallyDay],b.byweekday[0]="The Last"==a.annuallyWhich?RRule[v[b.byweekday[0]]].nth(-1):RRule[v[b.byweekday[0]]].nth(m[a.annuallyWhich])):""!=a.annuallyDay&&"Every"==a.annuallyWhich?"Day"==a.annuallyDay?b.byweekday="0123456".split(""):b.byweekday[0]=z[a.annuallyDay]:b.bymonthday[0]=a.annuallyWhich,b.interval=a.skipYears,b.bymonth[0]=a.annuallyMonth;else if("Monthly"==a.recurType)b.freq=RRule.MONTHLY,b.interval=a.skipMonths,""!=
a.monthlyWhich&&"Every"!=a.monthlyWhich?"Day"==a.monthlyDay?b.bymonthday[0]=m[a.monthlyWhich]:(b.byweekday[0]=z[a.monthlyDay],b.byweekday[0]="The Last"==a.monthlyWhich?RRule[v[b.byweekday[0]]].nth(-1):RRule[v[b.byweekday[0]]].nth(m[a.monthlyWhich])):"Every"==a.monthlyWhich?"Day"==a.monthlyDay?b.byweekday="0123456".split(""):b.byweekday[0]=z[a.monthlyDay]:b.bymonthday=a.arrMonthlyCalendarDay;else if("Weekly"==a.recurType){if(b.freq=RRule.WEEKLY,b.interval=a.skipWeeks,a.arrWeeklyDays.length)for(var c=
0;c<a.arrWeeklyDays.length;c++)b.byweekday.push(w[a.arrWeeklyDays[c]])}else"Daily"==a.recurType&&(b.interval=a.skipDays,b.freq=RRule.DAILY,a.everyWeekday&&(b.byweekday=[0,1,2,3,4]));for(c in b)null!=b[c]&&("undefined"!=typeof b[c].length&&0==b[c].length)&&delete b[c];a=new RRule(b);console.log(a);console.log(a.toString());return a};(function(b){l.buildMonthlyCalendar();for(var c=0;c<b.arrExclude.length;c++){var d=new Date(Date.parse(b.arrExclude[c]));"Invalid Date"==d?alert(b.arrExclude[c]+" is an invalid exclude date, and was automatically removed."):
s[d.getTime()]=d}l.setFormFromRules(b.ruleObj,!0);h=a("#zRecurTypeSelect").val();a("#zRecurType"+h).show();a("#zRecurTypeSelect").bind("change",function(){h=a(this).val();a(".zRecurType").hide();a("#zRecurType"+h).show()});a("#zRecurTypeRangeDate").datepicker();a("#zRecurTypeExcludeDate").datepicker();zArrResizeFunctions.push(function(){n=Math.floor(a(".zRecurPreviewBox").width()/160);k!=n&&(k=n,q=l.getMarkedDates(),l.drawPreviewCalendars())});l.drawExcludedDates();a("#zRecurTypeExcludeDateButton").bind("click",
function(){try{var b=new Date(Date.parse(a("#zRecurTypeExcludeDate").val()));if("Invalid Date"==b)return alert(a("#zRecurTypeExcludeDate").val()+" is an invalid date.  The date should be formatted: month/day/year using only numbers and /."),!1}catch(c){return alert("You must specify a valid date first."),!1}l.addExcludeDate(b);l.updateState();l.drawPreviewCalendars();return!1});a(".zRecurEventBox :input").bind("change",function(){l.drawPreviewCalendars()})})(c);return this}})(jQuery,window,document,
"undefined");
